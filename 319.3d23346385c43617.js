(self.webpackChunkjcalc=self.webpackChunkjcalc||[]).push([[319],{6319:(f,b,c)=>{"use strict";c.r(b),c.d(b,{MainModule:()=>Jn});var t=c(1571),v=c(529);let y=(()=>{class r{constructor(e){this.http=e}getLocation(e){return this.http.get(`http://api.ipstack.com/${e}`,{params:{access_key:"3d34b7c389101f8ccbc8814cc8c3455f"}})}getMyIp(){return this.http.get("https://api.ipify.org/?format=json")}getCurrencyRate(){}getToday(){const e=new Date;return e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()}getGoldRate(){return this.http.get("https://www.metals-api.com/api/latest",{params:{access_key:"w9jn1dlzz7vd56kbbspoffs63kb872y70z3mrip5rr668bomzyl22hh5t2g4",base:"INR",symbols:"XAU-CHEN"}})}getGoldRate2(){return this.http.get("http://goldpricez.com/api/rates/currency/gbp/measure/gram",{params:{"X-API-KEY":"309443e55e2497e289c2d0c75c64ff24309443e5"}})}copyMessage(e){const n=document.createElement("textarea");n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.opacity="0",n.value=e,document.body.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),document.body.removeChild(n)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(v.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var I=c(6895),R=c(433),Z=c(2533);function B(r,o){if(1&r&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.xp6(1),t.Oqu(e)}}function E(r,o){1&r&&(t.O4$(),t.kcU(),t.TgZ(0,"ngb-toast",18),t._uU(1," Copied to clipboard "),t.qZA()),2&r&&t.Q6J("autohide",!0)}let W=(()=>{class r{constructor(e){this.common=e,this.password="",this.passwordLength=8,this.passwordLengths=[4,5,6,7,8,9,10,11,12,13,14],this.show=!1,this.isSpecialCharacter=!0}ngOnInit(){this.generateToughPassword()}isTemplate(e){return e.textOrTpl instanceof t.Rgc}generatePassword(){const n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let i="";for(let a=0,s=n.length;a<8;++a)i+=n.charAt(Math.floor(Math.random()*s));return i}generateToughPassword(){const e="abcdefghijklmnopqrstuvwxyz",n=e.toUpperCase(),i="0123456789",a="!@$%-_?^&*";let s="",u="";const C=this.isSpecialCharacter?this.passwordLength%4:this.passwordLength%3,U=this.passwordLength-C,O=this.isSpecialCharacter?U/4:U/3,k=D=>D[Math.floor(Math.random()*D.length)];for(let D=0;D<=O-1;D++)s+=this.isSpecialCharacter?`${k(e)}${k(n)}${k(i)}${k(a)}`:`${k(e)}${k(n)}${k(i)}`;for(let D=0;D<=C-1;D++)u+=k(this.isSpecialCharacter?[...e,...n,...i,...a]:[...e,...n,...i]);this.password=s+u}showToast(){this.show=!0,setTimeout(()=>{this.show=!1},1e3)}copyMessage(e){this.showToast(),this.common.copyMessage(e)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(y))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-random-password"]],decls:26,vars:6,consts:[[1,"container"],[1,"justify-content-between"],["id","print-image",1,"row"],[1,"pl-0","pr-0","col-md-8","col-sm-12"],[1,"card","p-3"],["type","checkbox","aria-label","With Special Characters",1,"ml-1",3,"ngModel","change","ngModelChange"],[2,"font-size","11px","margin","0 0 0 3px"],[2,"float","right"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["aria-label","Default select example",1,"form-select","mt-2","mb-2",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],["title","copy","href","javascript:void(0)",1,"ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-copy"],["fill-rule","evenodd","d","M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"],["target","_blank","title","send through whatsapp",1,"ml-2",3,"href"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","#29AD17","viewBox","0 0 16 16",1,"bi","bi-whatsapp"],["d","M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"],[3,"autohide",4,"ngIf"],[3,"autohide"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),t._uU(6," Random Password "),t.TgZ(7,"input",5),t.NdJ("change",function(){return n.generateToughPassword()})("ngModelChange",function(a){return n.isSpecialCharacter=a}),t.qZA(),t.TgZ(8,"small",6),t._uU(9,"With Special Characters"),t.qZA(),t.TgZ(10,"div",7)(11,"button",8),t.NdJ("click",function(){return n.generateToughPassword()}),t._uU(12,"Generate Again"),t.qZA()()(),t.TgZ(13,"select",9),t.NdJ("ngModelChange",function(a){return n.passwordLength=a})("change",function(){return n.generateToughPassword()}),t.YNc(14,B,2,1,"option",10),t.qZA(),t.TgZ(15,"p"),t._uU(16,"Your Password is: "),t.TgZ(17,"b"),t._uU(18),t.qZA(),t.TgZ(19,"a",11),t.NdJ("click",function(){return n.copyMessage(n.password)}),t.O4$(),t.TgZ(20,"svg",12),t._UZ(21,"path",13),t.qZA()(),t.kcU(),t.TgZ(22,"a",14),t.O4$(),t.TgZ(23,"svg",15),t._UZ(24,"path",16),t.qZA()()(),t.YNc(25,E,2,1,"ngb-toast",17),t.qZA()()()()()),2&e&&(t.xp6(7),t.Q6J("ngModel",n.isSpecialCharacter),t.xp6(6),t.Q6J("ngModel",n.passwordLength),t.xp6(1),t.Q6J("ngForOf",n.passwordLengths),t.xp6(4),t.Oqu(n.password),t.xp6(4),t.Q6J("href","https://api.whatsapp.com/send?text="+n.password,t.LSH),t.xp6(3),t.Q6J("ngIf",n.show))},dependencies:[I.sg,I.O5,R.YN,R.Kr,R.Wl,R.EJ,R.JJ,R.On,Z.Iv]}),r})();var V=c(6762);function X(r,o,e,n,i,a,s){try{var u=r[a](s),C=u.value}catch(U){return void e(U)}u.done?o(C):Promise.resolve(C).then(n,i)}function T(r){return function(){var o=this,e=arguments;return new Promise(function(n,i){var a=r.apply(o,e);function s(C){X(a,n,i,s,u,"next",C)}function u(C){X(a,n,i,s,u,"throw",C)}s(void 0)})}}const H="application/font-woff",F="image/jpeg",P={woff:H,woff2:H,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:F,jpeg:F,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function A(r){const o=function q(r){const o=/\.([^./]*?)$/g.exec(r);return o?o[1]:""}(r).toLowerCase();return P[o]||""}function z(r){return r.split(/,/)[1]}function j(r){return-1!==r.search(/^(data:)/)}function nt(r,o){return`data:${o};base64,${r}`}function G(r,o,e){return Q.apply(this,arguments)}function Q(){return(Q=T(function*(r,o,e){const n=yield fetch(r,o);if(404===n.status)throw new Error(`Resource "${n.url}" not found`);const i=yield n.blob();return new Promise((a,s)=>{const u=new FileReader;u.onerror=s,u.onloadend=()=>{try{a(e({res:n,result:u.result}))}catch(C){s(C)}},u.readAsDataURL(i)})})).apply(this,arguments)}const ot={};function ht(r,o,e){let n=r.replace(/\?.*/,"");return e&&(n=r),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),o?`[${o}]${n}`:n}function st(r,o,e){return w.apply(this,arguments)}function w(){return(w=T(function*(r,o,e){const n=ht(r,o,e.includeQueryParams);if(null!=ot[n])return ot[n];let i;e.cacheBust&&(r+=(/\?/.test(r)?"&":"?")+(new Date).getTime());try{i=nt(yield G(r,e.fetchRequestInit,({res:s,result:u})=>(o||(o=s.headers.get("Content-Type")||""),z(u))),o)}catch(a){i=e.imagePlaceholder||"";let s=`Failed to fetch resource: ${r}`;a&&(s="string"==typeof a?a:a.message),s&&console.warn(s)}return ot[n]=i,i})).apply(this,arguments)}function d(r,o){if(r.match(/^[a-z]+:\/\//i))return r;if(r.match(/^\/\//))return window.location.protocol+r;if(r.match(/^[a-z]+:/i))return r;const e=document.implementation.createHTMLDocument(),n=e.createElement("base"),i=e.createElement("a");return e.head.appendChild(n),e.body.appendChild(i),o&&(n.href=o),i.href=r,i.href}const _=(()=>{let r=0;return()=>(r+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${r}`)})();function M(r){const o=[];for(let e=0,n=r.length;e<n;e++)o.push(r[e]);return o}function L(r,o){const n=(r.ownerDocument.defaultView||window).getComputedStyle(r).getPropertyValue(o);return n?parseFloat(n.replace("px","")):0}function K(r,o={}){const e=o.width||function N(r){const o=L(r,"border-left-width"),e=L(r,"border-right-width");return r.clientWidth+o+e}(r),n=o.height||function $(r){const o=L(r,"border-top-width"),e=L(r,"border-bottom-width");return r.clientHeight+o+e}(r);return{width:e,height:n}}function Y(){let r,o;try{o=process}catch{}const e=o&&o.env?o.env.devicePixelRatio:null;return e&&(r=parseInt(e,10),Number.isNaN(r)&&(r=1)),r||window.devicePixelRatio||1}const J=16384;function pt(r){(r.width>J||r.height>J)&&(r.width>J&&r.height>J?r.width>r.height?(r.height*=J/r.width,r.width=J):(r.width*=J/r.height,r.height=J):r.width>J?(r.height*=J/r.width,r.width=J):(r.width*=J/r.height,r.height=J))}function vt(r){return new Promise((o,e)=>{const n=new Image;n.onload=()=>o(n),n.onerror=e,n.crossOrigin="anonymous",n.decoding="sync",n.src=r})}function fe(r){return wt.apply(this,arguments)}function wt(){return(wt=T(function*(r){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(r)).then(encodeURIComponent).then(o=>`data:image/svg+xml;charset=utf-8,${o}`)})).apply(this,arguments)}function xe(r,o,e){return Ct.apply(this,arguments)}function Ct(){return(Ct=T(function*(r,o,e){const n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg"),a=document.createElementNS(n,"foreignObject");return i.setAttribute("width",`${o}`),i.setAttribute("height",`${e}`),i.setAttribute("viewBox",`0 0 ${o} ${e}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(r),fe(i)})).apply(this,arguments)}function Yt(r,o,e){const n=window.getComputedStyle(r,e),i=n.getPropertyValue("content");if(""===i||"none"===i)return;const a=_();try{o.className=`${o.className} ${a}`}catch{return}const s=document.createElement("style");s.appendChild(function ve(r,o,e){const n=`.${r}:${o}`,i=e.cssText?function _e(r){const o=r.getPropertyValue("content");return`${r.cssText} content: '${o.replace(/'|"/g,"")}';`}(e):function ye(r){return M(r).map(o=>`${o}: ${r.getPropertyValue(o)}${r.getPropertyPriority(o)?" !important":""};`).join(" ")}(e);return document.createTextNode(`${n}{${i}}`)}(a,e,n)),o.appendChild(s)}function Ce(r){return bt.apply(this,arguments)}function bt(){return(bt=T(function*(r){const o=r.toDataURL();return"data:,"===o?r.cloneNode(!1):vt(o)})).apply(this,arguments)}function be(r,o){return At.apply(this,arguments)}function At(){return(At=T(function*(r,o){const e=r.poster,n=A(e);return vt(yield st(e,n,o))})).apply(this,arguments)}function Ae(r,o){return Mt.apply(this,arguments)}function Mt(){return(Mt=T(function*(r,o){return r instanceof HTMLCanvasElement?Ce(r):r instanceof HTMLVideoElement&&r.poster?be(r,o):r.cloneNode(!1)})).apply(this,arguments)}const Me=r=>null!=r.tagName&&"SLOT"===r.tagName.toUpperCase();function Te(r,o,e){return Tt.apply(this,arguments)}function Tt(){return(Tt=T(function*(r,o,e){var n;const i=Me(r)&&r.assignedNodes?M(r.assignedNodes()):M((null!==(n=r.shadowRoot)&&void 0!==n?n:r).childNodes);return 0===i.length||r instanceof HTMLVideoElement||(yield i.reduce((a,s)=>a.then(()=>Vt(s,e)).then(u=>{u&&o.appendChild(u)}),Promise.resolve())),o})).apply(this,arguments)}function Ee(r,o){return o instanceof Element&&(function Re(r,o){const e=o.style;if(!e)return;const n=window.getComputedStyle(r);n.cssText?(e.cssText=n.cssText,e.transformOrigin=n.transformOrigin):M(n).forEach(i=>{let a=n.getPropertyValue(i);"font-size"===i&&a.endsWith("px")&&(a=Math.floor(parseFloat(a.substring(0,a.length-2)))-.1+"px"),e.setProperty(i,a,n.getPropertyPriority(i))})}(r,o),function we(r,o){Yt(r,o,":before"),Yt(r,o,":after")}(r,o),function Se(r,o){r instanceof HTMLTextAreaElement&&(o.innerHTML=r.value),r instanceof HTMLInputElement&&o.setAttribute("value",r.value)}(r,o),function Ie(r,o){if(r instanceof HTMLSelectElement){const n=Array.from(o.children).find(i=>r.value===i.getAttribute("value"));n&&n.setAttribute("selected","")}}(r,o)),o}function Vt(r,o,e){return Rt.apply(this,arguments)}function Rt(){return(Rt=T(function*(r,o,e){return e||!o.filter||o.filter(r)?Promise.resolve(r).then(n=>Ae(n,o)).then(n=>Te(r,n,o)).then(n=>Ee(r,n)):null})).apply(this,arguments)}const Kt=/url\((['"]?)([^'"]+?)\1\)/g,Ue=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Oe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ze(r){const o=r.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${o})(['"]?\\))`,"g")}function ke(r){const o=[];return r.replace(Kt,(e,n,i)=>(o.push(i),e)),o.filter(e=>!j(e))}function Le(r,o,e,n,i){return St.apply(this,arguments)}function St(){return(St=T(function*(r,o,e,n,i){try{const a=e?d(o,e):o,s=A(o);let u;return u=i?nt(yield i(a),s):yield st(a,s,n),r.replace(Ze(o),`$1${u}$3`)}catch{}return r})).apply(this,arguments)}function He(r,{preferredFontFormat:o}){return o?r.replace(Oe,e=>{for(;;){const[n,,i]=Ue.exec(e)||[];if(!i)return"";if(i===o)return`src: ${n};`}}):r}function Xt(r){return-1!==r.search(Kt)}function te(r,o,e){return It.apply(this,arguments)}function It(){return(It=T(function*(r,o,e){if(!Xt(r))return r;const n=He(r,e);return ke(n).reduce((a,s)=>a.then(u=>Le(u,s,o,e)),Promise.resolve(n))})).apply(this,arguments)}function ze(r,o){return Et.apply(this,arguments)}function Et(){return(Et=T(function*(r,o){var e;const n=null===(e=r.style)||void 0===e?void 0:e.getPropertyValue("background");if(n){const i=yield te(n,null,o);r.style.setProperty("background",i,r.style.getPropertyPriority("background"))}})).apply(this,arguments)}function Fe(r,o){return Ut.apply(this,arguments)}function Ut(){return(Ut=T(function*(r,o){if((!(r instanceof HTMLImageElement)||j(r.src))&&(!(r instanceof SVGImageElement)||j(r.href.baseVal)))return;const e=r instanceof HTMLImageElement?r.src:r.href.baseVal,n=yield st(e,A(e),o);yield new Promise((i,a)=>{r.onload=i,r.onerror=a,r instanceof HTMLImageElement?(r.srcset="",r.src=n):r.href.baseVal=n})})).apply(this,arguments)}function Be(r,o){return Ot.apply(this,arguments)}function Ot(){return(Ot=T(function*(r,o){const n=M(r.childNodes).map(i=>ee(i,o));yield Promise.all(n).then(()=>r)})).apply(this,arguments)}function ee(r,o){return Zt.apply(this,arguments)}function Zt(){return(Zt=T(function*(r,o){r instanceof Element&&(yield ze(r,o),yield Fe(r,o),yield Be(r,o))})).apply(this,arguments)}function Pe(r,o){const{style:e}=r;o.backgroundColor&&(e.backgroundColor=o.backgroundColor),o.width&&(e.width=`${o.width}px`),o.height&&(e.height=`${o.height}px`);const n=o.style;return null!=n&&Object.keys(n).forEach(i=>{e[i]=n[i]}),r}const ne={};function re(r){return kt.apply(this,arguments)}function kt(){return(kt=T(function*(r){let o=ne[r];return null!=o||(o={url:r,cssText:yield(yield fetch(r)).text()},ne[r]=o),o})).apply(this,arguments)}function ie(r,o){return Lt.apply(this,arguments)}function Lt(){return Lt=T(function*(r,o){let e=r.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,a=(e.match(/url\([^)]+\)/g)||[]).map(function(){var s=T(function*(u){let C=u.replace(n,"$1");return C.startsWith("https://")||(C=new URL(C,r.url).href),G(C,o.fetchRequestInit,({result:U})=>(e=e.replace(u,`url(${U})`),[u,U]))});return function(u){return s.apply(this,arguments)}}());return Promise.all(a).then(()=>e)}),Lt.apply(this,arguments)}function oe(r){if(null==r)return[];const o=[];let n=r.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const C=i.exec(n);if(null===C)break;o.push(C[0])}n=n.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,u=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let C=a.exec(n);if(null===C){if(C=u.exec(n),null===C)break;a.lastIndex=u.lastIndex}else u.lastIndex=a.lastIndex;o.push(C[0])}return o}function De(r,o){return Ht.apply(this,arguments)}function Ht(){return(Ht=T(function*(r,o){const e=[],n=[];return r.forEach(i=>{if("cssRules"in i)try{M(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let u=s+1;const U=re(a.href).then(O=>ie(O,o)).then(O=>oe(O).forEach(k=>{try{i.insertRule(k,k.startsWith("@import")?u+=1:i.cssRules.length)}catch(D){console.error("Error inserting rule from remote css",{rule:k,error:D})}})).catch(O=>{console.error("Error loading remote css",O.toString())});n.push(U)}})}catch(a){const s=r.find(u=>null==u.href)||document.styleSheets[0];null!=i.href&&n.push(re(i.href).then(u=>ie(u,o)).then(u=>oe(u).forEach(C=>{s.insertRule(C,i.cssRules.length)})).catch(u=>{console.error("Error loading remote stylesheet",u.toString())})),console.error("Error inlining remote css file",a.toString())}}),Promise.all(n).then(()=>(r.forEach(i=>{if("cssRules"in i)try{M(i.cssRules||[]).forEach(a=>{e.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a.toString())}}),e))})).apply(this,arguments)}function We(r){return r.filter(o=>o.type===CSSRule.FONT_FACE_RULE).filter(o=>Xt(o.style.getPropertyValue("src")))}function je(r,o){return zt.apply(this,arguments)}function zt(){return(zt=T(function*(r,o){if(null==r.ownerDocument)throw new Error("Provided element is not within a Document");const e=M(r.ownerDocument.styleSheets);return We(yield De(e,o))})).apply(this,arguments)}function Ne(r,o){return Ft.apply(this,arguments)}function Ft(){return(Ft=T(function*(r,o){const e=yield je(r,o);return(yield Promise.all(e.map(i=>te(i.cssText,i.parentStyleSheet?i.parentStyleSheet.href:null,o)))).join("\n")})).apply(this,arguments)}function qe(r,o){return Bt.apply(this,arguments)}function Bt(){return(Bt=T(function*(r,o){const e=null!=o.fontEmbedCSS?o.fontEmbedCSS:o.skipFonts?null:yield Ne(r,o);if(e){const n=document.createElement("style"),i=document.createTextNode(e);n.appendChild(i),r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n)}})).apply(this,arguments)}function Ge(r){return Pt.apply(this,arguments)}function Pt(){return(Pt=T(function*(r,o={}){const{width:e,height:n}=K(r,o),i=yield Vt(r,o,!0);return yield qe(i,o),yield ee(i,o),Pe(i,o),yield xe(i,e,n)})).apply(this,arguments)}function mt(r){return Dt.apply(this,arguments)}function Dt(){return(Dt=T(function*(r,o={}){const{width:e,height:n}=K(r,o),i=yield Ge(r,o),a=yield vt(i),s=document.createElement("canvas"),u=s.getContext("2d"),C=o.pixelRatio||Y(),U=o.canvasWidth||e,O=o.canvasHeight||n;return s.width=U*C,s.height=O*C,o.skipAutoScale||pt(s),s.style.width=`${U}`,s.style.height=`${O}`,o.backgroundColor&&(u.fillStyle=o.backgroundColor,u.fillRect(0,0,s.width,s.height)),u.drawImage(a,0,0,s.width,s.height),s})).apply(this,arguments)}function ae(r){return jt.apply(this,arguments)}function jt(){return(jt=T(function*(r,o={}){return(yield mt(r,o)).toDataURL()})).apply(this,arguments)}const Qe=["printPdf"],Je=["formRoot"];function $e(r,o){if(1&r&&(t.TgZ(0,"small"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij("(",e.location.zip,")")}}function Ye(r,o){if(1&r&&(t.TgZ(0,"span",29),t._uU(1),t.YNc(2,$e,2,1,"small",30),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.location.city," "),t.xp6(1),t.Q6J("ngIf",e.location.zip)}}function Ve(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.reset())}),t._uU(1,"Reset"),t.qZA()}}function Ke(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.printImage())}),t._uU(1,"Print"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("disabled",0===e.myForm.value.totalAmount)}}let Xe=(()=>{class r{constructor(e,n){this.fb=e,this.commonService=n,this.showMe=!1,this.hideMe=!1,this.currencyRates={},this.goldRates={},this.today="",this.location={},this.myip=""}ngOnInit(){this.setForm(),this.today=this.commonService.getToday(),this.getGold()}getMyIp(){const e=localStorage.getItem("myip");if(e)return this.myip=e,void this.getLocation(e);this.commonService.getMyIp().subscribe(n=>{n&&(this.myip=n.ip,localStorage.setItem("myip",n.ip),this.getLocation(n.ip))})}getLocation(e){const n=localStorage.getItem("location");n?this.location=JSON.parse(n):this.commonService.getLocation(e).subscribe(i=>{i&&!1===i.success||(this.location=i,localStorage.setItem("location",JSON.stringify(i)))})}getGold(){const e=localStorage.getItem(`goldrate-${this.today}`);e&&(this.goldRates=JSON.parse(e))}getCurrency(){const e=localStorage.getItem(`currencyrate-${this.today}`);e&&(this.currencyRates=JSON.parse(e))}setForm(){this.myForm=this.fb.group({todayRate:[4850,[R.kI.required]],weight:[0,[R.kI.required]],gramRate:[0,[R.kI.required]],wastagePercentage:[0,[R.kI.required]],wastageGram:[0,[R.kI.required]],wastageAmount:[0,[R.kI.required]],gst:[0],totalAmountExclGst:[0,[R.kI.required]],totalAmount:[0,[R.kI.required]],extraAmountPayable:[0,[R.kI.required]],inPoun:[0],inKalangi:[0],inPounAmount:[0],inKalangiAmount:[0]})}doCalc(){const e=this.myForm.controls;e.gramRate.setValue(e.todayRate.value*e.weight.value),e.wastageGram.setValue(e.weight.value*(.01*e.wastagePercentage.value)),e.wastageAmount.setValue(e.wastageGram.value*e.todayRate.value),e.totalAmountExclGst.setValue(e.todayRate.value*e.weight.value+e.wastageAmount.value),e.gst.setValue(.03*e.totalAmountExclGst.value),e.totalAmount.setValue(e.totalAmountExclGst.value+e.gst.value),e.extraAmountPayable.setValue(e.totalAmount.value-e.gramRate.value),e.inPoun.setValue(e.weight.value/8),e.inKalangi.setValue(e.weight.value/5),e.inPounAmount.setValue(8*e.todayRate.value),e.inKalangiAmount.setValue(5*e.todayRate.value),this.setDecimal()}setDecimal(){Object.keys(this.myForm.value).forEach(e=>{this.myForm.controls[e].setValue(this.getDecimal(this.myForm.controls[e].value,e))})}getDecimal(e,n){let i=e;return"todayRate"!==n&&"weight"!==n&&"wastagePercentage"!==n&&(i=e.toFixed(2)),i}print(){this.showMe=!0,this.hideMe=!0,setTimeout(()=>{console.log(this.printPdf);const e=this.printPdf.nativeElement.innerHTML;let n="";n=window.open("","_blank","top=0,left=0,height=100%,width=auto"),e&&(n.document.write(`${e}`),n.document.close(),this.showMe=!1,this.hideMe=!1)},1e3)}printImage(){this.hideMe=!0;const e=this;setTimeout(()=>{ae(document.getElementById("print-image")).then(function(i){(new Image).src=i;const s=new Date,u="gold-loan-details-"+s.getDate()+"-"+s.getMonth()+"-"+s.getFullYear()+"-"+s.getHours()+"-"+s.getMinutes()+"-"+s.getSeconds();e.downloadURI(i,u)}).catch(function(i){console.error("oops, something went wrong!",i)})},500)}downloadURI(e,n){const i=document.createElement("a");i.download=n,i.href=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),this.hideMe=!1}reset(){this.myForm.reset(),this.setForm()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(R.qu),t.Y36(y))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-homepage"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Qe,5),t.Gf(Je,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.printPdf=i.first),t.iGM(i=t.CRH())&&(n.formRoot=i.first)}},decls:65,vars:11,consts:[["id","print-image",1,"container"],[1,"justify-content-between"],[1,"row"],[1,"pl-0","pr-0","col-md-8","col-sm-12"],[1,"card","p-3"],[2,"float","right"],["class","city",4,"ngIf"],["type","button","class","btn btn-secondary btn-sm ",3,"click",4,"ngIf"],["type","button","class","ml-2 btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],[1,"form","mt-4",3,"formGroup"],["formRoot",""],[1,"col-4"],["for","typeahead-focus"],["type","number","min","3000","max","9999","placeholder","Rate today","formControlName","todayRate","required","",1,"form-control",3,"blur"],["type","number","min","0.1","max","2000","placeholder","Weight in gms","formControlName","weight","required","",1,"form-control",3,"blur"],[1,"input-group","mb-3"],["type","number","min","0.1","max","60","placeholder","Wastage in percentage ","formControlName","wastagePercentage","required","",1,"form-control",3,"blur"],[1,"input-group-append"],[1,"input-group-text"],[1,"w-100","text-center"],[1,"col-6","mb-3"],["id","disabledInput","type","text","placeholder","Wastage in gram","formControlName","wastageGram","required","",1,"form-control"],["id","disabledInput","type","text","placeholder","Wastage amount","formControlName","wastageAmount","required","",1,"form-control"],[1,"col-sm-12","col-md-4","mb-3"],["id","disabledInput","type","text","placeholder","Total excl. GST","formControlName","totalAmountExclGst","required","",1,"form-control"],["id","disabledInput","type","text","placeholder","Gst","formControlName","gst","required","",1,"form-control"],["id","disabledInput","type","text","placeholder","Total incl. GST","formControlName","totalAmount","required","",1,"form-control"],["id","disabledInput","type","text","placeholder","Poun/Savaran","formControlName","inPoun","required","",1,"form-control"],["id","disabledInput","type","text","placeholder","Kalanji","formControlName","inKalangi","required","",1,"form-control"],[1,"city"],[4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],["type","button",1,"ml-2","btn","btn-primary","btn-sm",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),t._uU(6," G Calc "),t.TgZ(7,"div",5),t.YNc(8,Ye,3,2,"span",6),t.YNc(9,Ve,2,0,"button",7),t.YNc(10,Ke,2,1,"button",8),t.qZA()(),t.TgZ(11,"form",9,10)(13,"div",2)(14,"div",11)(15,"label",12),t._uU(16,"Today Rate"),t.qZA(),t.TgZ(17,"input",13),t.NdJ("blur",function(){return n.doCalc()}),t.qZA()(),t.TgZ(18,"div",11)(19,"label",12),t._uU(20,"Weight (gm)"),t.qZA(),t.TgZ(21,"input",14),t.NdJ("blur",function(){return n.doCalc()}),t.qZA()(),t.TgZ(22,"div",11)(23,"label",12),t._uU(24,"Wastage"),t.qZA(),t.TgZ(25,"div",15)(26,"input",16),t.NdJ("blur",function(){return n.doCalc()}),t.qZA(),t.TgZ(27,"div",17)(28,"span",18),t._uU(29,"%"),t.qZA()()()()(),t._UZ(30,"hr"),t.TgZ(31,"legend",19),t._uU(32,"Details"),t.qZA(),t.TgZ(33,"div",2)(34,"div",20)(35,"label",12),t._uU(36,"Wastage Gms"),t.qZA(),t._UZ(37,"input",21),t.qZA(),t.TgZ(38,"div",20)(39,"label",12),t._uU(40,"Wastage Amount"),t.qZA(),t._UZ(41,"input",22),t.qZA(),t.TgZ(42,"div",23)(43,"label",12),t._uU(44,"Total Amount Without GST"),t.qZA(),t._UZ(45,"input",24),t.qZA(),t.TgZ(46,"div",23)(47,"label",12),t._uU(48,"Gst (3%)"),t.qZA(),t._UZ(49,"input",25),t.qZA(),t.TgZ(50,"div",23)(51,"label",12),t._uU(52,"Total Amount With GST"),t.qZA(),t._UZ(53,"input",26),t.qZA()(),t.TgZ(54,"div",2)(55,"legend"),t._uU(56,"Savaran/Kalanji"),t.qZA(),t.TgZ(57,"div",20)(58,"label",12),t._uU(59,"Poun/Savaran"),t.qZA(),t._UZ(60,"input",27),t.qZA(),t.TgZ(61,"div",20)(62,"label",12),t._uU(63,"Kalanji"),t.qZA(),t._UZ(64,"input",28),t.qZA()()()()()()()()),2&e&&(t.xp6(8),t.Q6J("ngIf",n.location.city),t.xp6(1),t.Q6J("ngIf",!n.hideMe),t.xp6(1),t.Q6J("ngIf",!n.hideMe),t.xp6(1),t.Q6J("formGroup",n.myForm),t.xp6(26),t.uIk("disabled",!0),t.xp6(4),t.uIk("disabled",!0),t.xp6(4),t.uIk("disabled",!0),t.xp6(4),t.uIk("disabled",!0),t.xp6(4),t.uIk("disabled",!0),t.xp6(7),t.uIk("disabled",!0),t.xp6(4),t.uIk("disabled",!0))},dependencies:[I.O5,R._Y,R.Fj,R.wV,R.JJ,R.JL,R.Q7,R.qQ,R.Fd,R.sg,R.u],styles:[".city[_ngcontent-%COMP%]{font-size:14px;margin-right:11px;color:brown}.card[_ngcontent-%COMP%]{background:aliceblue!important}"]}),r})();function tn(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.reset())}),t._uU(1,"Reset"),t.qZA()}}function en(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.calc())}),t._uU(1,"Get Amount"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("disabled","Units"===e.selectedToggle&&(!e.units||e.units<1)||"Reading"===e.selectedToggle&&(!e.previousReading||!e.currentReading))}}function nn(r,o){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",19),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.units=i)})("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.show=!1)})("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.reset())}),t.qZA(),t.BQk()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.units)}}function rn(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"input",20),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.previousReading=i)})("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.show=!1)}),t.qZA(),t.TgZ(1,"input",21),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.currentReading=i)})("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.show=!1)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.previousReading),t.xp6(1),t.Q6J("ngModel",e.currentReading)}}function on(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",11)(1,"button",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.showHistory=!0,t.KtG(i.show=!1)}),t.O4$(),t.TgZ(2,"svg",23),t._UZ(3,"path",24)(4,"path",25),t.qZA(),t._uU(5," History "),t.qZA()()}}function an(r,o){if(1&r){const e=t.EpF();t.ynx(0),t._UZ(1,"input",26),t.TgZ(2,"label",27),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return s.selectedToggle=a,t.KtG(s.reset())}),t._uU(3),t.qZA(),t.BQk()}if(2&r){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("name",e+"-outlined")("id",e)("checked",e===n.selectedToggle),t.xp6(1),t.Q6J("for",e+"-outlined"),t.xp6(1),t.Oqu(e)}}function sn(r,o){if(1&r&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"small",39),t._uU(3),t.qZA(),t.BQk()),2&r){const e=t.oxw(2);t.xp6(3),t.AsE("Reading Old/New: ",e.previousReading,"/",e.currentReading,"")}}function cn(r,o){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td",40),t._uU(9),t.ALo(10,"currency"),t.ALo(11,"currency"),t.qZA()()),2&r){const e=t.oxw(),n=e.$implicit,i=e.index,a=t.oxw(2);t.xp6(2),t.Oqu(n.range),t.xp6(2),t.Oqu(a.units<=500?a.getConsumedUnit(i,n.consumedUnit):a.getConsumedUnitGreater501(i,n.consumedUnit)),t.xp6(2),t.Oqu(t.xi3(7,4,n.rate,"INR")),t.xp6(3),t.Oqu(a.units<=500?t.xi3(10,7,a.getConsumedUnit(i,n.consumedUnit)*n.rate,"INR"):t.xi3(11,10,a.getConsumedUnitGreater501(i,n.consumedUnit)*n.rate,"INR"))}}function ln(r,o){if(1&r&&(t.ynx(0),t.YNc(1,cn,12,13,"tr",31),t.BQk()),2&r){const e=o.index,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.units<=500?0===e||1===e&&n.units>100||2===e&&n.units>200||3===e&&n.units>400:e>=0&&e<=3||4===e&&n.units>600||5===e&&n.units>800||6===e&&n.units>1e3)}}function un(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",28)(1,"table",29)(2,"thead")(3,"tr")(4,"th",30),t._uU(5),t.YNc(6,sn,4,2,"ng-container",31),t._UZ(7,"br"),t.TgZ(8,"small",32),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"div",33),t.O4$(),t.TgZ(12,"svg",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.printImage("print-image","eb-amount-for-"))}),t._UZ(13,"path",35)(14,"path",36),t.qZA()()()(),t.kcU(),t.TgZ(15,"tr")(16,"th",37),t._uU(17,"Units Range"),t.qZA(),t.TgZ(18,"th",37),t._uU(19,"Consumed Units"),t.qZA(),t.TgZ(20,"th",37),t._uU(21,"Rate"),t.qZA(),t.TgZ(22,"th",37),t._uU(23,"Amount"),t.qZA()()(),t.TgZ(24,"tbody"),t.YNc(25,ln,2,1,"ng-container",13),t.qZA(),t.TgZ(26,"tfoot")(27,"tr")(28,"td",38),t._uU(29),t.ALo(30,"currency"),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.hij("Total Units: ",e.units," "),t.xp6(1),t.Q6J("ngIf","Reading"===e.selectedToggle),t.xp6(3),t.hij("(On ",t.xi3(10,5,e.today,"medium"),")"),t.xp6(16),t.Q6J("ngForOf",e.unitsRanges),t.xp6(4),t.Oqu(t.xi3(30,8,e.amount,"INR"))}}function hn(r,o){1&r&&t.GkF(0)}function pn(r,o){if(1&r){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",47),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.deleteAll())}),t._UZ(1,"path",48),t.qZA()}}function dn(r,o){if(1&r&&(t.TgZ(0,"th",37),t.YNc(1,pn,2,0,"svg",46),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",(null==e.history?null:e.history.length)>1)}}function gn(r,o){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.previousReading," ")}}function mn(r,o){if(1&r&&t._uU(0),2&r){const e=t.oxw().index,n=t.oxw(2);t.hij(" ",null==n.history[e-1]?null:n.history[e-1].currentReading," ")}}function fn(r,o){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.currentReading-e.previousReading," ")}}function xn(r,o){if(1&r&&t._uU(0),2&r){const e=t.oxw(),n=e.$implicit,i=e.index,a=t.oxw(2);t.hij(" ",n.currentReading-(null==a.history[i-1]?null:a.history[i-1].currentReading)," ")}}function _n(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"td",52),t.O4$(),t.TgZ(1,"svg",47),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw(2);return t.KtG(a.delete(i))}),t._UZ(2,"path",48),t.qZA()()}}function yn(r,o){if(1&r&&(t.ynx(0),t.TgZ(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"date"),t._UZ(7,"br"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t.YNc(11,gn,2,1,"ng-container",8),t.YNc(12,mn,1,1,"ng-template",null,49,t.W1O),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",40),t.YNc(17,fn,2,1,"ng-container",8),t.YNc(18,xn,1,1,"ng-template",null,50,t.W1O),t.qZA(),t.YNc(20,_n,3,0,"td",51),t.qZA(),t.BQk()),2&r){const e=o.$implicit,n=o.index,i=t.MAs(13),a=t.MAs(19),s=t.oxw(2);t.xp6(3),t.Oqu(n+1),t.xp6(2),t.hij(" ",t.xi3(6,9,e.date,"mediumDate")," "),t.xp6(3),t.hij(" ",t.xi3(9,12,e.date,"mediumTime")," "),t.xp6(3),t.Q6J("ngIf",0===n)("ngIfElse",i),t.xp6(4),t.Oqu(e.currentReading),t.xp6(2),t.Q6J("ngIf",0===n)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",!s.hideMe)}}function vn(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",41)(2,"table",42)(3,"thead")(4,"tr")(5,"th",43),t._uU(6,"Eb Units History "),t.YNc(7,hn,1,0,"ng-container",31),t._UZ(8,"br"),t.TgZ(9,"small",32),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"div",33),t.O4$(),t.TgZ(13,"svg",44),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.printImage("print-history","eb-transactions"))}),t._UZ(14,"path",35)(15,"path",36),t.qZA()()()(),t.kcU(),t.TgZ(16,"tr")(17,"th",37),t._uU(18,"Sl.No"),t.qZA(),t.TgZ(19,"th",37),t._uU(20,"Date"),t.qZA(),t.TgZ(21,"th",37),t._uU(22,"Old Reading"),t.qZA(),t.TgZ(23,"th",37),t._uU(24,"New Reading"),t.qZA(),t.TgZ(25,"th",37),t._uU(26,"Units"),t.qZA(),t.YNc(27,dn,2,1,"th",45),t.qZA()(),t.TgZ(28,"tbody"),t.YNc(29,yn,21,15,"ng-container",13),t.qZA(),t.TgZ(30,"tfoot")(31,"tr")(32,"td",40),t._uU(33," Total: "),t.TgZ(34,"b"),t._uU(35),t.qZA(),t._uU(36," Units "),t.TgZ(37,"b"),t._uU(38),t.ALo(39,"currency"),t.qZA()()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.uIk("colspan",e.hideMe?5:6),t.xp6(2),t.Q6J("ngIf","Reading"===e.selectedToggle),t.xp6(3),t.hij("(On ",t.xi3(11,8,e.today,"medium"),")"),t.xp6(17),t.Q6J("ngIf",!e.hideMe),t.xp6(2),t.Q6J("ngForOf",e.history),t.xp6(3),t.uIk("colspan",e.hideMe?5:6),t.xp6(3),t.Oqu(null==e.history[(null==e.history?null:e.history.length)-1]?null:e.history[(null==e.history?null:e.history.length)-1].units),t.xp6(3),t.hij("(",t.xi3(39,11,null==e.history[(null==e.history?null:e.history.length)-1]?null:e.history[(null==e.history?null:e.history.length)-1].amount,"INR"),")")}}let wn=(()=>{class r{constructor(){this.previousReading="",this.currentReading="",this.units=0,this.toggle=["Units","Reading"],this.selectedToggle="Reading",this.amount="",this.unitsRanges=[],this.show=!1,this.hideMe=!1,this.today=new Date,this.history=[],this.totalUnits=0,this.totalAmount=0,this.showHistory=!1}ngOnInit(){if(localStorage.getItem("reading")&&(this.previousReading=localStorage.getItem("reading")),localStorage.getItem("history")){const e=localStorage.getItem("history");this.history=JSON.parse(e),console.log("oninit",this.history)}}getUnitRangesBelow501(){this.unitsRanges=[{range:"1 - 100",consumedUnit:100,rate:0,amount:0},{range:"101 - 200",consumedUnit:100,rate:2.25,amount:0},{range:"201 - 400",consumedUnit:200,rate:4.5,amount:0},{range:"401 - 500",consumedUnit:100,rate:6,amount:0}]}getUnitRangesGreater501(){this.unitsRanges=[{range:"1 - 100",consumedUnit:100,rate:0,amount:0},{range:"101 - 400",consumedUnit:300,rate:4.5,amount:0},{range:"401 - 500",consumedUnit:100,rate:6,amount:0},{range:"501 - 600",consumedUnit:100,rate:8,amount:0},{range:"601 - 800",consumedUnit:200,rate:9,amount:0},{range:"801 - 1000",consumedUnit:200,rate:10,amount:0},{range:"1001 Above",consumedUnit:0,rate:11,amount:0}]}calc(){var e=this;return T(function*(){if(e.amount=0,"Reading"===e.selectedToggle&&(e.units=e.currentReading-e.previousReading,localStorage.setItem("reading",e.previousReading)),e.units<1)return e.units="",alert("Please check the readings"),!1;e.units>0&&e.units<=500?(e.getUnitRangesBelow501(),e.amount=e.getAmount()):e.units>500&&(e.getUnitRangesGreater501(),e.amount=e.getAmountGreater501()),e.today=new Date,e.show=!0,"Reading"===e.selectedToggle&&e.setHistory()})()}getAmount(){return this.units<=100?0:this.units>100&&this.units<=200?2.25*(this.units-100):this.units>200&&this.units<=400?225+4.5*(this.units-200):this.units>400&&this.units<=500?1125+6*(this.units-400):void 0}getAmountGreater501(){return this.units<=100?0:this.units>100&&this.units<=400?4.5*(this.units-100):this.units>400&&this.units<=500?1350+6*(this.units-400):this.units>500&&this.units<=600?1950+8*(this.units-500):this.units>600&&this.units<=800?2750+9*(this.units-600):this.units>800&&this.units<=1e3?4550+10*(this.units-800):this.units>1e3?6550+11*(this.units-1e3):void 0}getConsumedUnit(e,n){return 0===e?this.units<=100?this.units:n:1===e?this.units<=200?this.units-100:n:2===e?this.units<=400?this.units-200:n:3===e?this.units<=500?this.units-400:n:void 0}getConsumedUnitGreater501(e,n){return 0===e?this.units<=100?this.units:n:1===e?this.units<=400?this.units-100:n:2===e?this.units<=500?this.units-400:n:3===e?this.units<=600?this.units-500:n:4===e?this.units<=800?this.units-600:n:5===e?this.units<=1e3?this.units-800:n:6===e?this.units-1e3:void 0}reset(){this.units="",this.currentReading="",this.previousReading="",this.show=!1,this.showHistory=!1,localStorage.getItem("reading")&&(this.previousReading=localStorage.getItem("reading"))}printImage(e,n){this.hideMe=!0;const i=this;document.querySelector(".noprint")?.classList.add("hideme"),setTimeout(()=>{ae(document.getElementById(e)).then(function(s){(new Image).src=s;const C=new Date,O=n+(i.units?`${i.units} units -`:"-")+C.getDate()+"-"+C.getMonth()+"-"+C.getFullYear()+"-"+C.getHours()+"-"+C.getMinutes()+"-"+C.getSeconds();i.downloadURI(s,O),document.querySelector(".noprint")?.classList.remove("hideme"),i.hideMe=!1}).catch(function(s){console.error("oops, something went wrong!",s)})},500)}downloadURI(e,n){const i=document.createElement("a");i.download=n,i.href=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),this.hideMe=!1}setHistory(){this.history.push({previousReading:this.previousReading,currentReading:this.currentReading,units:this.units,amount:this.amount,date:this.today}),this.setHistoryInStorge()}setHistoryInStorge(){localStorage.setItem("history",JSON.stringify(this.history)),console.log("history",this.history)}delete(e){confirm("Are you sure Want to delete this row..?")&&(this.history=this.history.filter((i,a)=>a!==e),this.setHistoryInStorge())}deleteAll(){confirm("Are you sure Want to delete all history..?")&&(this.history=[],localStorage.removeItem("history"))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-eb-calculator"]],decls:21,vars:10,consts:[[1,"container"],[1,"justify-content-between"],[1,"row"],[1,"pl-0","pr-0","col-md-6","col-sm-12"],[1,"card","p-3"],[2,"float","right","margin-top","-2px"],["type","button","class","btn btn-sm btn-outline-primary mr-2",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],[4,"ngIf","ngIfElse"],["others",""],["class","col mt-2",4,"ngIf"],[1,"col","mt-2"],[1,"toggles","text-right"],[4,"ngFor","ngForOf"],[1,"row","mt-4"],["class","pl-0 pr-0 col-sm-12 col-md-6","style","background: #fff;","id","print-image",4,"ngIf"],["class","row mt-4",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-primary","mr-2",3,"click"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["type","number","placeholder","Enter Units",1,"form-input",3,"ngModel","ngModelChange","keyup","click"],["type","number","placeholder","Last month readng",1,"form-input",3,"ngModel","ngModelChange","keyup"],["type","number","placeholder","Current reading",1,"form-input","mt-2",3,"ngModel","ngModelChange","keyup"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-chat-left-text"],["d","M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"],["d","M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],["type","radio","autocomplete","off",1,"btn-check",3,"name","id","checked"],[1,"btn","btn-outline-primary",3,"for","click"],["id","print-image",1,"pl-0","pr-0","col-sm-12","col-md-6",2,"background","#fff"],[1,"table","table-bordered","table-striped","m-0"],["align","center","colspan","4",1,"text-center",2,"background","#0d6efd","color","#fff"],[4,"ngIf"],[2,"font-weight","normal","font-size","13px","font-style","italic"],[1,"noprint"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","#fff","viewBox","0 0 16 16",1,"bi","bi-printer",2,"cursor","pointer","margin-right","5px","float","right","margin-top","-45px",3,"click"],["d","M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"],["d","M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"],["align","center",2,"background","#ddd"],["align","right","colspan","4"],[2,"font-weight","normal","text-decoration","underline"],["align","right"],["id","print-history",1,"pl-0","pr-0","col-sm-12","col-md-6",2,"background","#fff"],[1,"table","table-responsive","table-bordered","table-striped","m-0"],["align","center",1,"text-center",2,"background","#0d6efd","color","#fff"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","#fff","viewBox","0 0 16 16",1,"bi","bi-printer",2,"cursor","pointer","margin-right","5px","float","right","margin-top","-35px",3,"click"],["style","background: #ddd;","align","center",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","#dc3545","class","bi bi-trash3-fill","viewBox","0 0 16 16",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","#dc3545","viewBox","0 0 16 16",1,"bi","bi-trash3-fill",3,"click"],["d","M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"],["prevRead",""],["prevUnit",""],["align","left",4,"ngIf"],["align","left"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),t._uU(6," EB Reading "),t.TgZ(7,"div",5),t.YNc(8,tn,2,0,"button",6),t.YNc(9,en,2,1,"button",7),t.qZA()(),t.YNc(10,nn,2,1,"ng-container",8),t.YNc(11,rn,2,2,"ng-template",null,9,t.W1O),t.TgZ(13,"div",2),t.YNc(14,on,6,0,"div",10),t.TgZ(15,"div",11)(16,"div",12),t.YNc(17,an,4,5,"ng-container",13),t.qZA()()()()()(),t.TgZ(18,"div",14),t.YNc(19,un,31,11,"div",15),t.qZA(),t.YNc(20,vn,40,14,"div",16),t.qZA()()),2&e){const i=t.MAs(12);t.xp6(8),t.Q6J("ngIf","Reading"===n.selectedToggle&&n.units),t.xp6(1),t.Q6J("ngIf",!n.units||"Units"===n.selectedToggle),t.xp6(1),t.Q6J("ngIf","Units"===n.selectedToggle)("ngIfElse",i),t.xp6(4),t.Q6J("ngIf",null==n.history?null:n.history.length),t.xp6(2),t.ekj("t-active","Units"===n.selectedToggle),t.xp6(1),t.Q6J("ngForOf",n.toggle),t.xp6(2),t.Q6J("ngIf",n.show),t.xp6(1),t.Q6J("ngIf",n.showHistory&&(null==n.history?null:n.history.length))}},dependencies:[I.sg,I.O5,R.Fj,R.wV,R.JJ,R.On,I.H9,I.uU],styles:[".toggles[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{line-height:1}.toggles[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-child(2n){margin-left:-8px}.hideme[_ngcontent-%COMP%]{display:none}@media print{.noprint[_ngcontent-%COMP%]{visibility:hidden}}"]}),r})();var Cn=c(5825),Qt=c(1481),se=c(6451),ft=c(4968),bn=c(2722),An=c(590);const Mn=["wrapper"],Tn=["sourceImage"];function Rn(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"img",4,5),t.NdJ("load",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.imageLoadedInView())})("mousedown",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.startMove(i,a.moveTypes.Drag))})("touchstart",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.startMove(i,a.moveTypes.Drag))})("error",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.loadImageError(i))}),t.qZA()}if(2&r){const e=t.oxw();t.Udp("visibility",e.imageVisible?"visible":"hidden")("transform",e.safeTransformStyle),t.ekj("ngx-ic-draggable",!e.disabled&&e.allowMoveImage),t.Q6J("src",e.safeImgDataUrl,t.LSH),t.uIk("alt",e.imageAltText)}}function Sn(r,o){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",9),t.NdJ("mousedown",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"topleft"))})("touchstart",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"topleft"))}),t._UZ(2,"span",10),t.qZA(),t.TgZ(3,"span",11),t._UZ(4,"span",10),t.qZA(),t.TgZ(5,"span",12),t.NdJ("mousedown",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"topright"))})("touchstart",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"topright"))}),t._UZ(6,"span",10),t.qZA(),t.TgZ(7,"span",13),t._UZ(8,"span",10),t.qZA(),t.TgZ(9,"span",14),t.NdJ("mousedown",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"bottomright"))})("touchstart",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"bottomright"))}),t._UZ(10,"span",10),t.qZA(),t.TgZ(11,"span",15),t._UZ(12,"span",10),t.qZA(),t.TgZ(13,"span",16),t.NdJ("mousedown",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"bottomleft"))})("touchstart",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"bottomleft"))}),t._UZ(14,"span",10),t.qZA(),t.TgZ(15,"span",17),t._UZ(16,"span",10),t.qZA(),t.TgZ(17,"span",18),t.NdJ("mousedown",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"top"))})("touchstart",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"top"))}),t.qZA(),t.TgZ(18,"span",19),t.NdJ("mousedown",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"right"))})("touchstart",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"right"))}),t.qZA(),t.TgZ(19,"span",20),t.NdJ("mousedown",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"bottom"))})("touchstart",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"bottom"))}),t.qZA(),t.TgZ(20,"span",21),t.NdJ("mousedown",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"left"))})("touchstart",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.startMove(i,a.moveTypes.Resize,"left"))}),t.qZA(),t.BQk()}}function In(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",6),t.NdJ("keydown",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.keyboardAccess(i))}),t.TgZ(1,"div",7),t.NdJ("mousedown",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.startMove(i,a.moveTypes.Move))})("touchstart",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.startMove(i,a.moveTypes.Move))}),t.qZA(),t.YNc(2,Sn,21,0,"ng-container",8),t.qZA()}if(2&r){const e=t.oxw();t.Udp("top",e.cropper.y1,"px")("left",e.cropper.x1,"px")("width",e.cropper.x2-e.cropper.x1,"px")("height",e.cropper.y2-e.cropper.y1,"px")("margin-left","center"===e.alignImage?e.marginLeft:null)("visibility",e.imageVisible?"visible":"hidden"),t.ekj("ngx-ic-round",e.roundCropper),t.uIk("aria-label",e.cropperFrameAriaLabel),t.xp6(2),t.Q6J("ngIf",!e.hideResizeSquares)}}class En{constructor(){this.format="png",this.output="blob",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperFrameAriaLabel="Crop photo",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(o){Object.keys(o).filter(e=>e in this).forEach(e=>this[e]=o[e]),this.validateOptions()}setOptionsFromChanges(o){Object.keys(o).filter(e=>e in this).forEach(e=>this[e]=o[e].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var tt=(()=>{return(r=tt||(tt={})).Drag="drag",r.Move="move",r.Resize="resize",r.Pinch="pinch",tt;var r})();function ce(r,o){return r/100*o}let Ln=(()=>{class r{crop(e,n,i,a,s){const u=this.getImagePosition(e,n,i,s),C=u.x2-u.x1,U=u.y2-u.y1,O=document.createElement("canvas");O.width=C,O.height=U;const k=O.getContext("2d");if(!k)return null;null!=i.backgroundColor&&(k.fillStyle=i.backgroundColor,k.fillRect(0,0,C,U));const D=(i.transform.scale||1)*(i.transform.flipH?-1:1),at=(i.transform.scale||1)*(i.transform.flipV?-1:1),{translateH:lt,translateV:ut}=this.getCanvasTranslate(e,i,s),it=e.transformed;k.setTransform(D,0,0,at,it.size.width/2+lt,it.size.height/2+ut),k.translate(-u.x1/D,-u.y1/at),k.rotate((i.transform.rotate||0)*Math.PI/180),k.drawImage(it.image,-it.size.width/2,-it.size.height/2);const rt={width:C,height:U,imagePosition:u,cropperPosition:{...n}};i.containWithinAspectRatio&&(rt.offsetImagePosition=this.getOffsetImagePosition(e,n,i,s));const et=this.getResizeRatio(C,U,i);return 1!==et&&(rt.width=Math.round(C*et),rt.height=i.maintainAspectRatio?Math.round(rt.width/i.aspectRatio):Math.round(U*et),function kn(r,o,e){const n=r.width,i=r.height,a=n/(o=Math.round(o)),s=i/(e=Math.round(e)),u=Math.ceil(a/2),C=Math.ceil(s/2),U=r.getContext("2d");if(U){const O=U.getImageData(0,0,n,i),k=U.createImageData(o,e),D=O.data,at=k.data;for(let lt=0;lt<e;lt++)for(let ut=0;ut<o;ut++){const it=4*(ut+lt*o),rt=lt*s;let et=0,xt=0,le=0,ue=0,he=0,pe=0,de=0;const $n=Math.floor(ut*a),Yn=Math.floor(lt*s);let Jt=Math.ceil((ut+1)*a),$t=Math.ceil((lt+1)*s);Jt=Math.min(Jt,n),$t=Math.min($t,i);for(let _t=Yn;_t<$t;_t++){const ge=Math.abs(rt-_t)/C,Vn=ut*a,Kn=ge*ge;for(let yt=$n;yt<Jt;yt++){const me=Math.abs(Vn-yt)/u,dt=Math.sqrt(Kn+me*me);if(dt>=1)continue;et=2*dt*dt*dt-3*dt*dt+1;const gt=4*(yt+_t*n);de+=et*D[gt+3],le+=et,D[gt+3]<255&&(et=et*D[gt+3]/250),ue+=et*D[gt],he+=et*D[gt+1],pe+=et*D[gt+2],xt+=et}}at[it]=ue/xt,at[it+1]=he/xt,at[it+2]=pe/xt,at[it+3]=de/le}r.width=o,r.height=e,U.putImageData(k,0,0)}}(O,rt.width,rt.height)),"blob"===a?this.cropToBlob(rt,O,i):(rt.base64=O.toDataURL("image/"+i.format,this.getQuality(i)),rt)}cropToBlob(e,n,i){var a=this;return T(function*(){return e.blob=yield new Promise(s=>n.toBlob(s,"image/"+i.format,a.getQuality(i))),e.blob&&(e.objectUrl=URL.createObjectURL(e.blob)),e})()}getCanvasTranslate(e,n,i){if("px"===n.transform.translateUnit){const a=this.getRatio(e,i);return{translateH:(n.transform.translateH||0)*a,translateV:(n.transform.translateV||0)*a}}return{translateH:n.transform.translateH?ce(n.transform.translateH,e.transformed.size.width):0,translateV:n.transform.translateV?ce(n.transform.translateV,e.transformed.size.height):0}}getRatio(e,n){return e.transformed.size.width/n.width}getImagePosition(e,n,i,a){const s=this.getRatio(e,a),u={x1:Math.round(n.x1*s),y1:Math.round(n.y1*s),x2:Math.round(n.x2*s),y2:Math.round(n.y2*s)};return i.containWithinAspectRatio||(u.x1=Math.max(u.x1,0),u.y1=Math.max(u.y1,0),u.x2=Math.min(u.x2,e.transformed.size.width),u.y2=Math.min(u.y2,e.transformed.size.height)),u}getOffsetImagePosition(e,n,i,a){const s=i.canvasRotation+e.exifTransform.rotate,u=this.getRatio(e,a);let C,U;s%2?(C=(e.transformed.size.width-e.original.size.height)/2,U=(e.transformed.size.height-e.original.size.width)/2):(C=(e.transformed.size.width-e.original.size.width)/2,U=(e.transformed.size.height-e.original.size.height)/2);const O={x1:Math.round(n.x1*u)-C,y1:Math.round(n.y1*u)-U,x2:Math.round(n.x2*u)-C,y2:Math.round(n.y2*u)-U};return i.containWithinAspectRatio||(O.x1=Math.max(O.x1,0),O.y1=Math.max(O.y1,0),O.x2=Math.min(O.x2,e.transformed.size.width),O.y2=Math.min(O.y2,e.transformed.size.height)),O}getResizeRatio(e,n,i){const a=i.resizeToWidth/e,s=i.resizeToHeight/n,u=new Array;i.resizeToWidth>0&&u.push(a),i.resizeToHeight>0&&u.push(s);const C=0===u.length?1:Math.min(...u);return C>1&&!i.onlyScaleDown?C:Math.min(C,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Hn=(()=>{class r{resetCropperPosition(e,n,i,a){if(e?.nativeElement)if(i.cropperStaticHeight&&i.cropperStaticWidth)n.x1=0,n.x2=a.width>i.cropperStaticWidth?i.cropperStaticWidth:a.width,n.y1=0,n.y2=a.height>i.cropperStaticHeight?i.cropperStaticHeight:a.height;else{const s=Math.min(i.cropperScaledMaxWidth,a.width),u=Math.min(i.cropperScaledMaxHeight,a.height);if(i.maintainAspectRatio)if(a.width/i.aspectRatio<a.height){n.x1=0,n.x2=s;const C=s/i.aspectRatio;n.y1=(a.height-C)/2,n.y2=n.y1+C}else{n.y1=0,n.y2=u;const C=u*i.aspectRatio;n.x1=(a.width-C)/2,n.x2=n.x1+C}else n.x1=0,n.x2=s,n.y1=0,n.y2=u}}move(e,n,i){const a=this.getClientX(e)-n.clientX,s=this.getClientY(e)-n.clientY;i.x1=n.x1+a,i.y1=n.y1+s,i.x2=n.x2+a,i.y2=n.y2+s}resize(e,n,i,a,s){const u=this.getClientX(e)-n.clientX,C=this.getClientY(e)-n.clientY;switch(n.position){case"left":i.x1=Math.min(Math.max(n.x1+u,i.x2-s.cropperScaledMaxWidth),i.x2-s.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(n.x1+u,i.x2-s.cropperScaledMaxWidth),i.x2-s.cropperScaledMinWidth),i.y1=Math.min(Math.max(n.y1+C,i.y2-s.cropperScaledMaxHeight),i.y2-s.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(n.y1+C,i.y2-s.cropperScaledMaxHeight),i.y2-s.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(n.x2+u,i.x1+s.cropperScaledMaxWidth),i.x1+s.cropperScaledMinWidth),i.y1=Math.min(Math.max(n.y1+C,i.y2-s.cropperScaledMaxHeight),i.y2-s.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(n.x2+u,i.x1+s.cropperScaledMaxWidth),i.x1+s.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(n.x2+u,i.x1+s.cropperScaledMaxWidth),i.x1+s.cropperScaledMinWidth),i.y2=Math.max(Math.min(n.y2+C,i.y1+s.cropperScaledMaxHeight),i.y1+s.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(n.y2+C,i.y1+s.cropperScaledMaxHeight),i.y1+s.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(n.x1+u,i.x2-s.cropperScaledMaxWidth),i.x2-s.cropperScaledMinWidth),i.y2=Math.max(Math.min(n.y2+C,i.y1+s.cropperScaledMaxHeight),i.y1+s.cropperScaledMinHeight);break;case"center":const U=e.scale,O=Math.min(Math.max(s.cropperScaledMinWidth,Math.abs(n.x2-n.x1)*U),s.cropperScaledMaxWidth),k=Math.min(Math.max(s.cropperScaledMinHeight,Math.abs(n.y2-n.y1)*U),s.cropperScaledMaxHeight);i.x1=n.clientX-O/2,i.x2=n.clientX+O/2,i.y1=n.clientY-k/2,i.y2=n.clientY+k/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>a.width&&(i.x1-=i.x2-a.width,i.x2=a.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>a.height&&(i.y1-=i.y2-a.height,i.y2=a.height)}s.maintainAspectRatio&&this.checkAspectRatio(n.position,i,a,s)}checkAspectRatio(e,n,i,a){let s=0,u=0;switch(e){case"top":n.x2=n.x1+(n.y2-n.y1)*a.aspectRatio,s=Math.max(n.x2-i.width,0),u=Math.max(0-n.y1,0),(s>0||u>0)&&(n.x2-=u*a.aspectRatio>s?u*a.aspectRatio:s,n.y1+=u*a.aspectRatio>s?u:s/a.aspectRatio);break;case"bottom":n.x2=n.x1+(n.y2-n.y1)*a.aspectRatio,s=Math.max(n.x2-i.width,0),u=Math.max(n.y2-i.height,0),(s>0||u>0)&&(n.x2-=u*a.aspectRatio>s?u*a.aspectRatio:s,n.y2-=u*a.aspectRatio>s?u:s/a.aspectRatio);break;case"topleft":n.y1=n.y2-(n.x2-n.x1)/a.aspectRatio,s=Math.max(0-n.x1,0),u=Math.max(0-n.y1,0),(s>0||u>0)&&(n.x1+=u*a.aspectRatio>s?u*a.aspectRatio:s,n.y1+=u*a.aspectRatio>s?u:s/a.aspectRatio);break;case"topright":n.y1=n.y2-(n.x2-n.x1)/a.aspectRatio,s=Math.max(n.x2-i.width,0),u=Math.max(0-n.y1,0),(s>0||u>0)&&(n.x2-=u*a.aspectRatio>s?u*a.aspectRatio:s,n.y1+=u*a.aspectRatio>s?u:s/a.aspectRatio);break;case"right":case"bottomright":n.y2=n.y1+(n.x2-n.x1)/a.aspectRatio,s=Math.max(n.x2-i.width,0),u=Math.max(n.y2-i.height,0),(s>0||u>0)&&(n.x2-=u*a.aspectRatio>s?u*a.aspectRatio:s,n.y2-=u*a.aspectRatio>s?u:s/a.aspectRatio);break;case"left":case"bottomleft":n.y2=n.y1+(n.x2-n.x1)/a.aspectRatio,s=Math.max(0-n.x1,0),u=Math.max(n.y2-i.height,0),(s>0||u>0)&&(n.x1+=u*a.aspectRatio>s?u*a.aspectRatio:s,n.y2-=u*a.aspectRatio>s?u:s/a.aspectRatio);break;case"center":n.x2=n.x1+(n.y2-n.y1)*a.aspectRatio,n.y2=n.y1+(n.x2-n.x1)/a.aspectRatio;const C=Math.max(0-n.x1,0),U=Math.max(n.x2-i.width,0),O=Math.max(n.y2-i.height,0),k=Math.max(0-n.y1,0);(C>0||U>0||O>0||k>0)&&(n.x1+=O*a.aspectRatio>C?O*a.aspectRatio:C,n.x2-=k*a.aspectRatio>U?k*a.aspectRatio:U,n.y1+=k*a.aspectRatio>U?k:U/a.aspectRatio,n.y2-=O*a.aspectRatio>C?O:C/a.aspectRatio)}}getClientX(e){return e.touches?.[0].clientX||e.clientX||0}getClientY(e){return e.touches?.[0].clientY||e.clientY||0}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();let Dn=(()=>{class r{constructor(){this.autoRotateSupported=function Fn(){return new Promise(r=>{const o=new Image;o.onload=()=>{r(1===o.width&&2===o.height)},o.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(e,n){return e.arrayBuffer().then(i=>this.checkImageTypeAndLoadImageFromArrayBuffer(i,e.type,n))}checkImageTypeAndLoadImageFromArrayBuffer(e,n,i){return this.isValidImageType(n)?this.loadImageFromArrayBuffer(e,i):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(e)}loadImageFromURL(e,n){return fetch(e).then(i=>i.arrayBuffer()).then(i=>this.loadImageFromArrayBuffer(i,n))}loadBase64Image(e,n){const i=this.base64ToArrayBuffer(e);return this.loadImageFromArrayBuffer(i,n)}base64ToArrayBuffer(e){e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");const n=atob(e),i=n.length,a=new Uint8Array(i);for(let s=0;s<i;s++)a[s]=n.charCodeAt(s);return a.buffer}loadImageFromArrayBuffer(e,n){return new Promise((i,a)=>{const s=new Blob([e]),u=URL.createObjectURL(s),C=new Image;C.onload=()=>i({originalImage:C,originalObjectUrl:u,originalArrayBuffer:e}),C.onerror=a,C.src=u}).then(i=>this.transformImageFromArrayBuffer(i,n))}transformImageFromArrayBuffer(e,n){var i=this;return T(function*(){const a=yield i.autoRotateSupported,s=yield function Bn(r){switch("object"==typeof r&&(r=function Pn(r){const o=new DataView(r);if(65496!==o.getUint16(0,!1))return-2;const e=o.byteLength;let n=2;for(;n<e;){if(o.getUint16(n+2,!1)<=8)return-1;const i=o.getUint16(n,!1);if(n+=2,65505==i){if(1165519206!==o.getUint32(n+=2,!1))return-1;const a=18761==o.getUint16(n+=6,!1);n+=o.getUint32(n+4,a);const s=o.getUint16(n,a);n+=2;for(let u=0;u<s;u++)if(274==o.getUint16(n+12*u,a))return o.getUint16(n+12*u+8,a)}else{if(65280!=(65280&i))break;n+=o.getUint16(n,!1)}}return-1}(r)),r){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(a?-1:e.originalArrayBuffer);return e.originalImage&&e.originalImage.complete?i.transformLoadedImage({original:{objectUrl:e.originalObjectUrl,image:e.originalImage,size:{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:s},n):Promise.reject(new Error("No image loaded"))})()}transformLoadedImage(e,n){var i=this;return T(function*(){const a=n.canvasRotation+e.exifTransform.rotate,s={width:e.original.image.naturalWidth,height:e.original.image.naturalHeight};if(0===a&&!e.exifTransform.flip&&!n.containWithinAspectRatio)return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:{...s}},transformed:{objectUrl:e.original.objectUrl,image:e.original.image,size:{...s}},exifTransform:e.exifTransform};const u=i.getTransformedSize(s,e.exifTransform,n),C=document.createElement("canvas");C.width=u.width,C.height=u.height;const U=C.getContext("2d");U?.setTransform(e.exifTransform.flip?-1:1,0,0,1,C.width/2,C.height/2),U?.rotate(Math.PI*(a/2)),U?.drawImage(e.original.image,-s.width/2,-s.height/2);const O=yield new Promise(at=>C.toBlob(at,n.format));if(!O)throw new Error("Failed to get Blob for transformed image.");const k=URL.createObjectURL(O),D=yield i.loadImageFromObjectUrl(k);return{original:{objectUrl:e.original.objectUrl,image:e.original.image,size:{...s}},transformed:{objectUrl:k,image:D,size:{width:D.width,height:D.height}},exifTransform:e.exifTransform}})()}loadImageFromObjectUrl(e){return new Promise((n,i)=>{const a=new Image;a.onload=()=>n(a),a.onerror=i,a.src=e})}getTransformedSize(e,n,i){const a=i.canvasRotation+n.rotate;if(i.containWithinAspectRatio){if(a%2){const u=e.height/i.aspectRatio;return{width:Math.max(e.height,e.width*i.aspectRatio),height:Math.max(e.width,u)}}{const u=e.width/i.aspectRatio;return{width:Math.max(e.width,e.height*i.aspectRatio),height:Math.max(e.height,u)}}}return a%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Wn=(()=>{class r{constructor(e,n,i,a,s,u){this.cropService=e,this.cropperPositionService=n,this.loadImageService=i,this.sanitizer=a,this.cd=s,this.hammerLoader=u,this.settings=new En,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=tt,this.imageVisible=!1,this.cropperFrameAriaLabel=this.settings.cropperFrameAriaLabel,this.output=this.settings.output,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new t.vpe,this.startCropImage=new t.vpe,this.imageLoaded=new t.vpe,this.cropperReady=new t.vpe,this.loadImageFailed=new t.vpe,this.transformChange=new t.vpe,this.reset()}ngOnChanges(e){this.onChangesUpdateSettings(e),this.onChangesInputImage(e),this.loadedImage?.original.image.complete&&(e.containWithinAspectRatio||e.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n)),(e.cropper||e.maintainAspectRatio||e.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!e.maintainAspectRatio&&!e.aspectRatio?e.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),e.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),e.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(e){this.settings.setOptionsFromChanges(e),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.reset(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent?.target?.files?.length>0}setCssTransform(){const e=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${e}, ${this.transform.translateV||0}${e}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(e){this.loadImageService.loadImageFile(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadBase64Image(e){this.loadImageService.loadBase64Image(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadImageFromURL(e){this.loadImageService.loadImageFromURL(e,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}setLoadedImage(e){this.loadedImage=e,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e.transformed.objectUrl),this.cd.markForCheck()}loadImageError(e){console.error(e),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit({...this.maxSize}),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){if(this.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{const e={...this.maxSize};this.setMaxSize(),this.resizeCropperPosition(e),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}}activatePinchGesture(){var e=this;return T(function*(){yield e.hammerLoader?.();const n=window?.Hammer||null;if(n){const i=new n(e.wrapper.nativeElement);i.get("pinch").set({enable:!0}),i.on("pinchmove",e.onPinch.bind(e)),i.on("pinchend",e.pinchStop.bind(e)),i.on("pinchstart",e.startPinch.bind(e))}else(0,t.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")})()}resizeCropperPosition(e){(e.width!==this.maxSize.width||e.height!==this.maxSize.height)&&(this.cropper.x1=this.cropper.x1*this.maxSize.width/e.width,this.cropper.x2=this.cropper.x2*this.maxSize.width/e.width,this.cropper.y1=this.cropper.y1*this.maxSize.height/e.height,this.cropper.y2=this.cropper.y2*this.maxSize.height/e.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings,this.maxSize),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}changeKeyboardStepSize(e){const n=+e.key;n>=1&&n<=9&&(this.settings.stepSize=n)}keyboardMoveCropper(e){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key))return;const i=e.shiftKey?tt.Resize:tt.Move,a=e.altKey?function On(r){switch(r){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(e.key):function Un(r){switch(r){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(e.key),s=function Zn(r,o){switch(r){case"ArrowUp":return{clientX:0,clientY:-1*o};case"ArrowRight":return{clientX:o,clientY:0};case"ArrowDown":return{clientX:0,clientY:o};default:return{clientX:-1*o,clientY:0}}}(e.key,this.settings.stepSize);e.preventDefault(),e.stopPropagation(),this.startMove({clientX:0,clientY:0},i,a),this.handleMouseMove(s),this.handleMouseUp()}startMove(e,n,i=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===tt.Pinch||n===tt.Drag&&!this.allowMoveImage||(e.preventDefault&&e.preventDefault(),this.moveStart={active:!0,type:n,position:i,transform:{...this.transform},clientX:this.cropperPositionService.getClientX(e),clientY:this.cropperPositionService.getClientY(e),...this.cropper},this.initMouseMove())}initMouseMove(){(0,se.T)((0,ft.R)(document,"mousemove"),(0,ft.R)(document,"touchmove")).pipe((0,bn.R)((0,se.T)((0,ft.R)(document,"mouseup"),(0,ft.R)(document,"touchend")).pipe((0,An.P)()))).subscribe({next:e=>this.handleMouseMove(e),complete:()=>this.handleMouseUp()})}startPinch(e){!this.safeImgDataUrl||(e.preventDefault&&e.preventDefault(),this.moveStart={active:!0,type:tt.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2,...this.cropper})}handleMouseMove(e){if(this.moveStart.active){if(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===tt.Move)this.cropperPositionService.move(e,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===tt.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===tt.Drag){const n=this.cropperPositionService.getClientX(e)-this.moveStart.clientX,i=this.cropperPositionService.getClientY(e)-this.moveStart.clientY;this.transform={...this.transform,translateH:(this.moveStart.transform?.translateH||0)+n,translateV:(this.moveStart.transform?.translateV||0)+i},this.setCssTransform()}this.cd.markForCheck()}}onPinch(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===tt.Pinch&&(this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.markForCheck())}setMaxSize(){if(this.sourceImage){const e=getComputedStyle(this.sourceImage.nativeElement);this.maxSize.width=parseFloat(e.width),this.maxSize.height=parseFloat(e.height),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){const e=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/e:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/e:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(e=!1){this.cropper.x1<0&&(this.cropper.x2-=e?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=e?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=e?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=e?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}handleMouseUp(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===tt.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(e=this.settings.output){if(null!=this.loadedImage?.transformed?.image){if(this.startCropImage.emit(),"blob"===e)return this.cropToBlob();if("base64"===e)return this.cropToBase64()}return null}cropToBlob(){const e=this.cropService.crop(this.loadedImage,this.cropper,this.settings,"blob",this.maxSize);return e?Promise.resolve(e).then(n=>(this.imageCropped.emit(n),e)):null}cropToBase64(){const e=this.cropService.crop(this.loadedImage,this.cropper,this.settings,"base64",this.maxSize);return e?(this.imageCropped.emit(e),e):null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Ln),t.Y36(Hn),t.Y36(Dn),t.Y36(Qt.H7),t.Y36(t.sBO),t.Y36(Qt.vm,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["image-cropper"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Mn,7),t.Gf(Tn,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.wrapper=i.first),t.iGM(i=t.CRH())&&(n.sourceImage=i.first)}},hostVars:6,hostBindings:function(e,n){1&e&&t.NdJ("resize",function(){return n.onResize()},!1,t.Jf7),2&e&&(t.Udp("text-align",n.alignImage),t.ekj("disabled",n.disabled)("ngx-ix-hidden",n.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[t.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart","error"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(e,n){1&e&&(t.TgZ(0,"div",null,0),t.YNc(2,Rn,2,8,"img",1),t._UZ(3,"div",2),t.YNc(4,In,3,16,"div",3),t.qZA()),2&e&&(t.Udp("background",n.imageVisible&&n.backgroundColor),t.xp6(2),t.Q6J("ngIf",n.safeImgDataUrl),t.xp6(1),t.Udp("width",n.maxSize.width,"px")("height",n.maxSize.height,"px")("margin-left","center"===n.alignImage?n.marginLeft:null),t.xp6(1),t.Q6J("ngIf",n.imageVisible))},dependencies:[I.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),r})(),jn=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[I.ez]]}),r})();function Nn(r,o){if(1&r&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2," Preview Converted Text "),t.qZA(),t.TgZ(3,"div",16),t._UZ(4,"p",20),t.qZA()()),2&r){const e=t.oxw(2);t.xp6(4),t.Q6J("innerHTML",e.ocrResult,t.oJD)}}function qn(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13),t._uU(5," Crop the Picture "),t.TgZ(6,"div",14)(7,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.convert(i.croppedImage))}),t._uU(8,"Convert"),t.qZA()()(),t.TgZ(9,"div",16),t._UZ(10,"img",17),t.qZA()()(),t.TgZ(11,"div",18),t.YNc(12,Nn,5,1,"div",19),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(7),t.Q6J("disabled",!e.croppedImage),t.xp6(3),t.Q6J("src",e.croppedImage,t.LSH),t.xp6(2),t.Q6J("ngIf",e.ocrResult)}}const Gn=[{path:"",redirectTo:"/",pathMatch:"full"},{path:"gcalc",component:Xe},{path:"password",component:W},{path:"",component:wn},{path:"convert-image-to-text",component:(()=>{class r{constructor(e){this.sanitizer=e,this.ocrResult="",this.imageChangedEvent="",this.croppedImage=""}ngOnInit(){}getBase64(e){if(e.length>0){const n=e[0],i=new FileReader;i.onload=a=>{let s=a.target.result;s.match("data:image/png;")||s.match("data:image/jpeg;")?(this.filePreview=s,this.convert(s)):alert("Please upload only image file")},i.readAsDataURL(n)}}convert(e=""){var n=this;return T(function*(){console.log("file",e),n.ocrResult="Recognizing...";const i=(0,Cn.createWorker)();yield i.load(),yield i.loadLanguage("eng"),yield i.initialize("eng");const{data:{text:a}}=yield i.recognize(e.changingThisBreaksApplicationSecurity);n.ocrResult=a,console.log(a),yield i.terminate()})()}fileChangeEvent(e){this.imageChangedEvent=e}imageCropped(e){this.croppedImage=this.sanitizer.bypassSecurityTrustUrl(e.objectUrl)}imageLoaded(e){}cropperReady(){}loadImageFailed(){}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Qt.H7))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-image-to-text"]],decls:11,vars:6,consts:[[1,"container"],[1,"justify-content-between"],["id","print-image",1,"row"],[1,"pl-0","pr-0","col-md-6","col-sm-12"],[1,"card","p-3"],[1,"mb-4"],["type","file","accept","image/*;capture=camera",3,"change"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","allowMoveImage","roundCropper","imageCropped","imageLoaded","cropperReady","loadImageFailed"],["class","col-md-6 col-sm-12 mt-5",4,"ngIf"],[1,"col-md-6","col-sm-12","mt-5"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-title"],[2,"float","right"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"card-body"],[1,"w-100",3,"src"],[1,"col-12","mt-2"],["class","card",4,"ngIf"],[3,"innerHTML"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),t._uU(6," Convert Image to Text "),t.qZA(),t.TgZ(7,"input",6),t.NdJ("change",function(a){return n.fileChangeEvent(a)}),t.qZA(),t.TgZ(8,"image-cropper",7),t.NdJ("imageCropped",function(a){return n.imageCropped(a)})("imageLoaded",function(a){return n.imageLoaded(a)})("cropperReady",function(){return n.cropperReady()})("loadImageFailed",function(){return n.loadImageFailed()}),t.qZA(),t._UZ(9,"br"),t.qZA()(),t.YNc(10,qn,13,3,"div",8),t.qZA()()()),2&e&&(t.xp6(8),t.Q6J("imageChangedEvent",n.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",16/9)("allowMoveImage",!0)("roundCropper",!0),t.xp6(2),t.Q6J("ngIf",n.croppedImage))},dependencies:[I.O5,Wn],styles:[".card-title[_ngcontent-%COMP%]{background:#eee;padding:10px}"]}),r})()},{path:"**",redirectTo:"/"}];let Qn=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[V.Bz.forChild(Gn),V.Bz]}),r})(),Jn=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[I.ez,Qn,R.u5,R.UX,Z.IJ,v.JF,Z.IJ,jn]}),r})()},3014:(f,b,c)=>{f.exports=c(7114)},7729:(f,b,c)=>{"use strict";var t=c(4701),v=c(858),m=c(1625),h=c(2099),g=c(6100),x=c(5593);f.exports=function(l){return new Promise(function(I,R){var Z=l.data,B=l.headers;t.isFormData(Z)&&delete B["Content-Type"];var E=new XMLHttpRequest;if(l.auth&&(B.Authorization="Basic "+btoa((l.auth.username||"")+":"+(l.auth.password||""))),E.open(l.method.toUpperCase(),m(l.url,l.params,l.paramsSerializer),!0),E.timeout=l.timeout,E.onreadystatechange=function(){if(E&&4===E.readyState&&(0!==E.status||E.responseURL&&0===E.responseURL.indexOf("file:"))){var F="getAllResponseHeaders"in E?h(E.getAllResponseHeaders()):null;v(I,R,{data:l.responseType&&"text"!==l.responseType?E.response:E.responseText,status:E.status,statusText:E.statusText,headers:F,config:l,request:E}),E=null}},E.onerror=function(){R(x("Network Error",l,null,E)),E=null},E.ontimeout=function(){R(x("timeout of "+l.timeout+"ms exceeded",l,"ECONNABORTED",E)),E=null},t.isStandardBrowserEnv()){var X=c(5738),T=(l.withCredentials||g(l.url))&&l.xsrfCookieName?X.read(l.xsrfCookieName):void 0;T&&(B[l.xsrfHeaderName]=T)}if("setRequestHeader"in E&&t.forEach(B,function(F,P){typeof Z>"u"&&"content-type"===P.toLowerCase()?delete B[P]:E.setRequestHeader(P,F)}),l.withCredentials&&(E.withCredentials=!0),l.responseType)try{E.responseType=l.responseType}catch(H){if("json"!==l.responseType)throw H}"function"==typeof l.onDownloadProgress&&E.addEventListener("progress",l.onDownloadProgress),"function"==typeof l.onUploadProgress&&E.upload&&E.upload.addEventListener("progress",l.onUploadProgress),l.cancelToken&&l.cancelToken.promise.then(function(F){!E||(E.abort(),R(F),E=null)}),void 0===Z&&(Z=null),E.send(Z)})}},7114:(f,b,c)=>{"use strict";var t=c(4701),v=c(2414),m=c(6490),h=c(3324);function g(p){var l=new m(p),y=v(m.prototype.request,l);return t.extend(y,m.prototype,l),t.extend(y,l),y}var x=g(h);x.Axios=m,x.create=function(l){return g(t.merge(h,l))},x.Cancel=c(1413),x.CancelToken=c(3056),x.isCancel=c(8827),x.all=function(l){return Promise.all(l)},x.spread=c(9211),f.exports=x,f.exports.default=x},1413:f=>{"use strict";function b(c){this.message=c}b.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},b.prototype.__CANCEL__=!0,f.exports=b},3056:(f,b,c)=>{"use strict";var t=c(1413);function v(m){if("function"!=typeof m)throw new TypeError("executor must be a function.");var h;this.promise=new Promise(function(p){h=p});var g=this;m(function(p){g.reason||(g.reason=new t(p),h(g.reason))})}v.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},v.source=function(){var h;return{token:new v(function(p){h=p}),cancel:h}},f.exports=v},8827:f=>{"use strict";f.exports=function(c){return!(!c||!c.__CANCEL__)}},6490:(f,b,c)=>{"use strict";var t=c(3324),v=c(4701),m=c(607),h=c(957);function g(x){this.defaults=x,this.interceptors={request:new m,response:new m}}g.prototype.request=function(p){"string"==typeof p&&(p=v.merge({url:arguments[0]},arguments[1])),(p=v.merge(t,{method:"get"},this.defaults,p)).method=p.method.toLowerCase();var l=[h,void 0],y=Promise.resolve(p);for(this.interceptors.request.forEach(function(R){l.unshift(R.fulfilled,R.rejected)}),this.interceptors.response.forEach(function(R){l.push(R.fulfilled,R.rejected)});l.length;)y=y.then(l.shift(),l.shift());return y},v.forEach(["delete","get","head","options"],function(p){g.prototype[p]=function(l,y){return this.request(v.merge(y||{},{method:p,url:l}))}}),v.forEach(["post","put","patch"],function(p){g.prototype[p]=function(l,y,I){return this.request(v.merge(I||{},{method:p,url:l,data:y}))}}),f.exports=g},607:(f,b,c)=>{"use strict";var t=c(4701);function v(){this.handlers=[]}v.prototype.use=function(h,g){return this.handlers.push({fulfilled:h,rejected:g}),this.handlers.length-1},v.prototype.eject=function(h){this.handlers[h]&&(this.handlers[h]=null)},v.prototype.forEach=function(h){t.forEach(this.handlers,function(x){null!==x&&h(x)})},f.exports=v},5593:(f,b,c)=>{"use strict";var t=c(5124);f.exports=function(m,h,g,x,p){var l=new Error(m);return t(l,h,g,x,p)}},957:(f,b,c)=>{"use strict";var t=c(4701),v=c(5134),m=c(8827),h=c(3324),g=c(8692),x=c(4554);function p(l){l.cancelToken&&l.cancelToken.throwIfRequested()}f.exports=function(y){return p(y),y.baseURL&&!g(y.url)&&(y.url=x(y.baseURL,y.url)),y.headers=y.headers||{},y.data=v(y.data,y.headers,y.transformRequest),y.headers=t.merge(y.headers.common||{},y.headers[y.method]||{},y.headers||{}),t.forEach(["delete","get","head","post","put","patch","common"],function(Z){delete y.headers[Z]}),(y.adapter||h.adapter)(y).then(function(Z){return p(y),Z.data=v(Z.data,Z.headers,y.transformResponse),Z},function(Z){return m(Z)||(p(y),Z&&Z.response&&(Z.response.data=v(Z.response.data,Z.response.headers,y.transformResponse))),Promise.reject(Z)})}},5124:f=>{"use strict";f.exports=function(c,t,v,m,h){return c.config=t,v&&(c.code=v),c.request=m,c.response=h,c}},858:(f,b,c)=>{"use strict";var t=c(5593);f.exports=function(m,h,g){var x=g.config.validateStatus;g.status&&x&&!x(g.status)?h(t("Request failed with status code "+g.status,g.config,null,g.request,g)):m(g)}},5134:(f,b,c)=>{"use strict";var t=c(4701);f.exports=function(m,h,g){return t.forEach(g,function(p){m=p(m,h)}),m}},3324:(f,b,c)=>{"use strict";var t=c(4701),v=c(5620),m={"Content-Type":"application/x-www-form-urlencoded"};function h(p,l){!t.isUndefined(p)&&t.isUndefined(p["Content-Type"])&&(p["Content-Type"]=l)}var x={adapter:function g(){var p;return(typeof XMLHttpRequest<"u"||typeof process<"u")&&(p=c(7729)),p}(),transformRequest:[function(l,y){return v(y,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(h(y,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)?(h(y,"application/json;charset=utf-8"),JSON.stringify(l)):l}],transformResponse:[function(l){if("string"==typeof l)try{l=JSON.parse(l)}catch{}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};t.forEach(["delete","get","head"],function(l){x.headers[l]={}}),t.forEach(["post","put","patch"],function(l){x.headers[l]=t.merge(m)}),f.exports=x},2414:f=>{"use strict";f.exports=function(c,t){return function(){for(var m=new Array(arguments.length),h=0;h<m.length;h++)m[h]=arguments[h];return c.apply(t,m)}}},1625:(f,b,c)=>{"use strict";var t=c(4701);function v(m){return encodeURIComponent(m).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}f.exports=function(h,g,x){if(!g)return h;var p;if(x)p=x(g);else if(t.isURLSearchParams(g))p=g.toString();else{var l=[];t.forEach(g,function(I,R){null===I||typeof I>"u"||(t.isArray(I)?R+="[]":I=[I],t.forEach(I,function(B){t.isDate(B)?B=B.toISOString():t.isObject(B)&&(B=JSON.stringify(B)),l.push(v(R)+"="+v(B))}))}),p=l.join("&")}return p&&(h+=(-1===h.indexOf("?")?"?":"&")+p),h}},4554:f=>{"use strict";f.exports=function(c,t){return t?c.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):c}},5738:(f,b,c)=>{"use strict";var t=c(4701);f.exports=t.isStandardBrowserEnv()?{write:function(h,g,x,p,l,y){var I=[];I.push(h+"="+encodeURIComponent(g)),t.isNumber(x)&&I.push("expires="+new Date(x).toGMTString()),t.isString(p)&&I.push("path="+p),t.isString(l)&&I.push("domain="+l),!0===y&&I.push("secure"),document.cookie=I.join("; ")},read:function(h){var g=document.cookie.match(new RegExp("(^|;\\s*)("+h+")=([^;]*)"));return g?decodeURIComponent(g[3]):null},remove:function(h){this.write(h,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8692:f=>{"use strict";f.exports=function(c){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)}},6100:(f,b,c)=>{"use strict";var t=c(4701);f.exports=t.isStandardBrowserEnv()?function(){var g,m=/(msie|trident)/i.test(navigator.userAgent),h=document.createElement("a");function x(p){var l=p;return m&&(h.setAttribute("href",l),l=h.href),h.setAttribute("href",l),{href:h.href,protocol:h.protocol?h.protocol.replace(/:$/,""):"",host:h.host,search:h.search?h.search.replace(/^\?/,""):"",hash:h.hash?h.hash.replace(/^#/,""):"",hostname:h.hostname,port:h.port,pathname:"/"===h.pathname.charAt(0)?h.pathname:"/"+h.pathname}}return g=x(window.location.href),function(l){var y=t.isString(l)?x(l):l;return y.protocol===g.protocol&&y.host===g.host}}():function(){return!0}},5620:(f,b,c)=>{"use strict";var t=c(4701);f.exports=function(m,h){t.forEach(m,function(x,p){p!==h&&p.toUpperCase()===h.toUpperCase()&&(m[h]=x,delete m[p])})}},2099:(f,b,c)=>{"use strict";var t=c(4701),v=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];f.exports=function(h){var x,p,l,g={};return h&&t.forEach(h.split("\n"),function(I){if(l=I.indexOf(":"),x=t.trim(I.substr(0,l)).toLowerCase(),p=t.trim(I.substr(l+1)),x){if(g[x]&&v.indexOf(x)>=0)return;g[x]="set-cookie"===x?(g[x]?g[x]:[]).concat([p]):g[x]?g[x]+", "+p:p}}),g}},9211:f=>{"use strict";f.exports=function(c){return function(v){return c.apply(null,v)}}},4701:(f,b,c)=>{"use strict";var t=c(2414),v=c(5792),m=Object.prototype.toString;function h(A){return"[object Array]"===m.call(A)}function R(A){return null!==A&&"object"==typeof A}function W(A){return"[object Function]"===m.call(A)}function F(A,z){if(!(null===A||typeof A>"u"))if("object"!=typeof A&&(A=[A]),h(A))for(var j=0,nt=A.length;j<nt;j++)z.call(null,A[j],j,A);else for(var G in A)Object.prototype.hasOwnProperty.call(A,G)&&z.call(null,A[G],G,A)}f.exports={isArray:h,isArrayBuffer:function g(A){return"[object ArrayBuffer]"===m.call(A)},isBuffer:v,isFormData:function x(A){return typeof FormData<"u"&&A instanceof FormData},isArrayBufferView:function p(A){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(A):A&&A.buffer&&A.buffer instanceof ArrayBuffer},isString:function l(A){return"string"==typeof A},isNumber:function y(A){return"number"==typeof A},isObject:R,isUndefined:function I(A){return typeof A>"u"},isDate:function Z(A){return"[object Date]"===m.call(A)},isFile:function B(A){return"[object File]"===m.call(A)},isBlob:function E(A){return"[object Blob]"===m.call(A)},isFunction:W,isStream:function V(A){return R(A)&&W(A.pipe)},isURLSearchParams:function X(A){return typeof URLSearchParams<"u"&&A instanceof URLSearchParams},isStandardBrowserEnv:function H(){return!(typeof navigator<"u"&&"ReactNative"===navigator.product)&&typeof window<"u"&&typeof document<"u"},forEach:F,merge:function P(){var A={};function z(G,Q){A[Q]="object"==typeof A[Q]&&"object"==typeof G?P(A[Q],G):G}for(var j=0,nt=arguments.length;j<nt;j++)F(arguments[j],z);return A},extend:function q(A,z,j){return F(z,function(G,Q){A[Q]=j&&"function"==typeof G?t(G,j):G}),A},trim:function T(A){return A.replace(/^\s*/,"").replace(/\s*$/,"")}}},5792:f=>{f.exports=function(c){return null!=c&&null!=c.constructor&&"function"==typeof c.constructor.isBuffer&&c.constructor.isBuffer(c)}},7854:f=>{var b=function(c){"use strict";var m,t=Object.prototype,v=t.hasOwnProperty,h="function"==typeof Symbol?Symbol:{},g=h.iterator||"@@iterator",x=h.asyncIterator||"@@asyncIterator",p=h.toStringTag||"@@toStringTag";function l(w,d,_){return Object.defineProperty(w,d,{value:_,enumerable:!0,configurable:!0,writable:!0}),w[d]}try{l({},"")}catch{l=function(d,_,S){return d[_]=S}}function y(w,d,_,S){var L=Object.create((d&&d.prototype instanceof V?d:V).prototype),N=new ot(S||[]);return L._invoke=function j(w,d,_){var S=R;return function(L,N){if(S===B)throw new Error("Generator is already running");if(S===E){if("throw"===L)throw N;return st()}for(_.method=L,_.arg=N;;){var $=_.delegate;if($){var K=nt($,_);if(K){if(K===W)continue;return K}}if("next"===_.method)_.sent=_._sent=_.arg;else if("throw"===_.method){if(S===R)throw S=E,_.arg;_.dispatchException(_.arg)}else"return"===_.method&&_.abrupt("return",_.arg);S=B;var Y=I(w,d,_);if("normal"===Y.type){if(S=_.done?E:Z,Y.arg===W)continue;return{value:Y.arg,done:_.done}}"throw"===Y.type&&(S=E,_.method="throw",_.arg=Y.arg)}}}(w,_,N),L}function I(w,d,_){try{return{type:"normal",arg:w.call(d,_)}}catch(S){return{type:"throw",arg:S}}}c.wrap=y;var R="suspendedStart",Z="suspendedYield",B="executing",E="completed",W={};function V(){}function X(){}function T(){}var H={};l(H,g,function(){return this});var F=Object.getPrototypeOf,P=F&&F(F(ht([])));P&&P!==t&&v.call(P,g)&&(H=P);var q=T.prototype=V.prototype=Object.create(H);function A(w){["next","throw","return"].forEach(function(d){l(w,d,function(_){return this._invoke(d,_)})})}function z(w,d){function _(L,N,$,K){var Y=I(w[L],w,N);if("throw"!==Y.type){var J=Y.arg,pt=J.value;return pt&&"object"==typeof pt&&v.call(pt,"__await")?d.resolve(pt.__await).then(function(ct){_("next",ct,$,K)},function(ct){_("throw",ct,$,K)}):d.resolve(pt).then(function(ct){J.value=ct,$(J)},function(ct){return _("throw",ct,$,K)})}K(Y.arg)}var S;this._invoke=function M(L,N){function $(){return new d(function(K,Y){_(L,N,K,Y)})}return S=S?S.then($,$):$()}}function nt(w,d){var _=w.iterator[d.method];if(_===m){if(d.delegate=null,"throw"===d.method){if(w.iterator.return&&(d.method="return",d.arg=m,nt(w,d),"throw"===d.method))return W;d.method="throw",d.arg=new TypeError("The iterator does not provide a 'throw' method")}return W}var S=I(_,w.iterator,d.arg);if("throw"===S.type)return d.method="throw",d.arg=S.arg,d.delegate=null,W;var M=S.arg;return M?M.done?(d[w.resultName]=M.value,d.next=w.nextLoc,"return"!==d.method&&(d.method="next",d.arg=m),d.delegate=null,W):M:(d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,W)}function G(w){var d={tryLoc:w[0]};1 in w&&(d.catchLoc=w[1]),2 in w&&(d.finallyLoc=w[2],d.afterLoc=w[3]),this.tryEntries.push(d)}function Q(w){var d=w.completion||{};d.type="normal",delete d.arg,w.completion=d}function ot(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(G,this),this.reset(!0)}function ht(w){if(w){var d=w[g];if(d)return d.call(w);if("function"==typeof w.next)return w;if(!isNaN(w.length)){var _=-1,S=function M(){for(;++_<w.length;)if(v.call(w,_))return M.value=w[_],M.done=!1,M;return M.value=m,M.done=!0,M};return S.next=S}}return{next:st}}function st(){return{value:m,done:!0}}return X.prototype=T,l(q,"constructor",T),l(T,"constructor",X),X.displayName=l(T,p,"GeneratorFunction"),c.isGeneratorFunction=function(w){var d="function"==typeof w&&w.constructor;return!!d&&(d===X||"GeneratorFunction"===(d.displayName||d.name))},c.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,T):(w.__proto__=T,l(w,p,"GeneratorFunction")),w.prototype=Object.create(q),w},c.awrap=function(w){return{__await:w}},A(z.prototype),l(z.prototype,x,function(){return this}),c.AsyncIterator=z,c.async=function(w,d,_,S,M){void 0===M&&(M=Promise);var L=new z(y(w,d,_,S),M);return c.isGeneratorFunction(d)?L:L.next().then(function(N){return N.done?N.value:L.next()})},A(q),l(q,p,"Generator"),l(q,g,function(){return this}),l(q,"toString",function(){return"[object Generator]"}),c.keys=function(w){var d=[];for(var _ in w)d.push(_);return d.reverse(),function S(){for(;d.length;){var M=d.pop();if(M in w)return S.value=M,S.done=!1,S}return S.done=!0,S}},c.values=ht,ot.prototype={constructor:ot,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(Q),!w)for(var d in this)"t"===d.charAt(0)&&v.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=m)},stop:function(){this.done=!0;var d=this.tryEntries[0].completion;if("throw"===d.type)throw d.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var d=this;function _(K,Y){return L.type="throw",L.arg=w,d.next=K,Y&&(d.method="next",d.arg=m),!!Y}for(var S=this.tryEntries.length-1;S>=0;--S){var M=this.tryEntries[S],L=M.completion;if("root"===M.tryLoc)return _("end");if(M.tryLoc<=this.prev){var N=v.call(M,"catchLoc"),$=v.call(M,"finallyLoc");if(N&&$){if(this.prev<M.catchLoc)return _(M.catchLoc,!0);if(this.prev<M.finallyLoc)return _(M.finallyLoc)}else if(N){if(this.prev<M.catchLoc)return _(M.catchLoc,!0)}else{if(!$)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return _(M.finallyLoc)}}}},abrupt:function(w,d){for(var _=this.tryEntries.length-1;_>=0;--_){var S=this.tryEntries[_];if(S.tryLoc<=this.prev&&v.call(S,"finallyLoc")&&this.prev<S.finallyLoc){var M=S;break}}M&&("break"===w||"continue"===w)&&M.tryLoc<=d&&d<=M.finallyLoc&&(M=null);var L=M?M.completion:{};return L.type=w,L.arg=d,M?(this.method="next",this.next=M.finallyLoc,W):this.complete(L)},complete:function(w,d){if("throw"===w.type)throw w.arg;return"break"===w.type||"continue"===w.type?this.next=w.arg:"return"===w.type?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):"normal"===w.type&&d&&(this.next=d),W},finish:function(w){for(var d=this.tryEntries.length-1;d>=0;--d){var _=this.tryEntries[d];if(_.finallyLoc===w)return this.complete(_.completion,_.afterLoc),Q(_),W}},catch:function(w){for(var d=this.tryEntries.length-1;d>=0;--d){var _=this.tryEntries[d];if(_.tryLoc===w){var S=_.completion;if("throw"===S.type){var M=S.arg;Q(_)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(w,d,_){return this.delegate={iterator:ht(w),resultName:d,nextLoc:_},"next"===this.method&&(this.arg=m),W}},c}(f.exports);try{regeneratorRuntime=b}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=b:Function("r","regeneratorRuntime = r")(b)}},5555:function(f,b,c){var t,v;t=function(){return function m(){var h=arguments.length;if(0===h)throw new Error("resolveUrl requires at least one argument; got none.");var g=document.createElement("base");if(g.href=arguments[0],1===h)return g.href;var x=document.getElementsByTagName("head")[0];x.insertBefore(g,x.firstChild);for(var l,p=document.createElement("a"),y=1;y<h;y++)p.href=arguments[y],g.href=l=p.href;return x.removeChild(g),l}},void 0!==(v=t.call(b,c,b,f))&&(f.exports=v)},9791:(f,b,c)=>{var t=c(7156).default;const v=c(2841);f.exports={recognize:function(){var g=t(function*(x,p,l){const y=v(l);return yield y.load(),yield y.loadLanguage(p),yield y.initialize(p),y.recognize(x).finally(t(function*(){yield y.terminate()}))});return function(p,l,y){return g.apply(this,arguments)}}(),detect:function(){var g=t(function*(x,p){const l=v(p);return yield l.load(),yield l.loadLanguage("osd"),yield l.initialize("osd"),l.detect(x).finally(t(function*(){yield l.terminate()}))});return function(p,l){return g.apply(this,arguments)}}()}},6057:f=>{f.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},562:f=>{f.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12"}},491:(f,b,c)=>{const t=c(6057);f.exports={defaultOEM:t.DEFAULT}},1722:f=>{f.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}}},833:(f,b,c)=>{const t=c(5011);let v=0;f.exports=({id:m,action:h,payload:g={}})=>{let x=m;return typeof x>"u"&&(x=t("Job",v),v+=1),{id:x,action:h,payload:g}}},5873:function(f,b,c){var t=c(7156).default,v=this;const m=c(833),{log:h}=c(7223),g=c(5011);let x=0;f.exports=()=>{const p=g("Scheduler",x),l={},y={};let I=[];x+=1;const Z=()=>Object.keys(l).length,B=()=>{if(0!==I.length){const T=Object.keys(l);for(let H=0;H<T.length;H+=1)if(typeof y[T[H]]>"u"){I[0](l[T[H]]);break}}},E=(T,H)=>new Promise((F,P)=>{const q=m({action:T,payload:H});I.push(function(){var A=t(function*(z){I.shift(),y[z.id]=q;try{F(yield z[T].apply(v,[...H,q.id]))}catch(j){P(j)}finally{delete y[z.id],B()}});return function(z){return A.apply(this,arguments)}}()),h(`[${p}]: Add ${q.id} to JobQueue`),h(`[${p}]: JobQueue length=${I.length}`),B()});return{addWorker:T=>(l[T.id]=T,h(`[${p}]: Add ${T.id}`),h(`[${p}]: Number of workers=${Z()}`),B(),T.id),addJob:function(){var T=t(function*(H,...F){if(0===Z())throw Error(`[${p}]: You need to have at least one worker before adding jobs`);return E(H,F)});return function(F){return T.apply(this,arguments)}}(),terminate:function(){var T=t(function*(){Object.keys(l).forEach(function(){var H=t(function*(F){yield l[F].terminate()});return function(F){return H.apply(this,arguments)}}()),I=[]});return function(){return T.apply(this,arguments)}}(),getQueueLen:()=>I.length,getNumWorkers:Z}}},2841:(f,b,c)=>{var t=c(7156).default;const v=c(3466),m=c(9038),h=c(833),{log:g}=c(7223),x=c(5011),{defaultOEM:p}=c(491),{defaultOptions:l,spawnWorker:y,terminateWorker:I,onMessage:R,loadImage:Z,send:B}=c(6893);let E=0;f.exports=(W={})=>{const V=x("Worker",E),{logger:X,...T}=v({...l,...W}),H={},F={};let P=y(T);E+=1;const q=(d,_)=>{H[d]=_},A=(d,_)=>{F[d]=_},z=({id:d,action:_,payload:S})=>new Promise((M,L)=>{g(`[${V}]: Start ${d}, action=${_}`),q(_,M),A(_,L),B(P,{workerId:V,jobId:d,action:_,payload:S})}),ot=function(){var d=t(function*(_,S={},M){return z(h({id:M,action:"recognize",payload:{image:yield Z(_),options:S}}))});return function(S){return d.apply(this,arguments)}}(),st=function(){var d=t(function*(_,S){return z(h({id:S,action:"detect",payload:{image:yield Z(_)}}))});return function(S,M){return d.apply(this,arguments)}}(),w=function(){var d=t(function*(_){return null!==P&&(yield z(h({id:_,action:"terminate"})),I(P),P=null),Promise.resolve()});return function(S){return d.apply(this,arguments)}}();return R(P,({workerId:d,jobId:_,status:S,action:M,data:L})=>{if("resolve"===S){g(`[${d}]: Complete ${_}`);let N=L;"recognize"===M?N=m(L):"getPDF"===M&&(N=Array.from({...L,length:Object.keys(L).length})),H[M]({jobId:_,data:N})}else{if("reject"===S)throw F[M](L),Error(L);"progress"===S&&X(L)}}),{id:V,worker:P,setResolve:q,setReject:A,load:d=>z(h({id:d,action:"load",payload:{options:T}})),loadLanguage:(d="eng",_)=>z(h({id:_,action:"loadLanguage",payload:{langs:d,options:T}})),initialize:(d="eng",_=p,S)=>z(h({id:S,action:"initialize",payload:{langs:d,oem:_}})),setParameters:(d={},_)=>z(h({id:_,action:"setParameters",payload:{params:d}})),recognize:ot,getPDF:(d="Tesseract OCR Result",_=!1,S)=>z(h({id:S,action:"getPDF",payload:{title:d,textonly:_}})),detect:st,terminate:w}}},5825:(f,b,c)=>{c(7854);const t=c(5873),v=c(2841),m=c(9791),h=c(6057),g=c(562),{setLogging:x}=c(7223);f.exports={OEM:h,PSM:g,createScheduler:t,createWorker:v,setLogging:x,...m}},9038:f=>{f.exports=b=>{const c=[],t=[],v=[],m=[],h=[];return b.blocks.forEach(g=>{g.paragraphs.forEach(x=>{x.lines.forEach(p=>{p.words.forEach(l=>{l.symbols.forEach(y=>{h.push({...y,page:b,block:g,paragraph:x,line:p,word:l})}),m.push({...l,page:b,block:g,paragraph:x,line:p})}),v.push({...p,page:b,block:g,paragraph:x})}),t.push({...x,page:b,block:g})}),c.push({...g,page:b})}),{...b,blocks:c,paragraphs:t,lines:v,words:m,symbols:h}}},4469:f=>{f.exports=b=>{const c={type:typeof window<"u"&&typeof window.document<"u"?"browser":"node"};return typeof b>"u"?c:c[b]}},5011:f=>{f.exports=(b,c)=>`${b}-${c}-${Math.random().toString(16).slice(3,8)}`},7223:function(f,b){let c=!1;b.logging=c,b.setLogging=t=>{c=t},b.log=(...t)=>c?console.log.apply(this,t):null},3466:(f,b,c)=>{const v="browser"===c(4469)("type")?c(5555):m=>m;f.exports=m=>{const h={...m};return["corePath","workerPath","langPath"].forEach(g=>{typeof m[g]<"u"&&(h[g]=v(h[g]))}),h}},7123:(f,b,c)=>{const t=c(5555),{version:v,dependencies:m}=c(4547),h=c(1722);f.exports={...h,workerPath:typeof process<"u"&&"development"===process.env.TESS_ENV?t(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://unpkg.com/tesseract.js@v${v}/dist/worker.min.js`,corePath:`https://unpkg.com/tesseract.js-core@v${m["tesseract.js-core"].substring(1)}/tesseract-core.${"object"==typeof WebAssembly?"wasm":"asm"}.js`}},6893:(f,b,c)=>{const t=c(7123),v=c(8766),m=c(7694),h=c(256),g=c(6285),x=c(141);f.exports={defaultOptions:t,spawnWorker:v,terminateWorker:m,onMessage:h,send:g,loadImage:x}},141:(f,b,c)=>{var t=c(7156).default;const v=c(3014),m=c(5555),h=x=>new Promise((p,l)=>{const y=new FileReader;y.onload=()=>{p(y.result)},y.onerror=({target:{error:{code:I}}})=>{l(Error(`File could not be read! Code=${I}`))},y.readAsArrayBuffer(x)}),g=function(){var x=t(function*(p){let l=p;if(typeof p>"u")return"undefined";if("string"==typeof p)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(p))l=atob(p.split(",")[1]).split("").map(y=>y.charCodeAt(0));else{const{data:y}=yield v.get(m(p),{responseType:"arraybuffer"});l=y}else p instanceof HTMLElement?("IMG"===p.tagName&&(l=yield g(p.src)),"VIDEO"===p.tagName&&(l=yield g(p.poster)),"CANVAS"===p.tagName&&(yield new Promise(y=>{p.toBlob(function(){var I=t(function*(R){l=yield h(R),y()});return function(R){return I.apply(this,arguments)}}())}))):(p instanceof File||p instanceof Blob)&&(l=yield h(p));return new Uint8Array(l)});return function(l){return x.apply(this,arguments)}}();f.exports=g},256:f=>{f.exports=(b,c)=>{b.onmessage=({data:t})=>{c(t)}}},6285:(f,b,c)=>{var t=c(7156).default;f.exports=function(){var v=t(function*(m,h){m.postMessage(h)});return function(m,h){return v.apply(this,arguments)}}()},8766:f=>{f.exports=({workerPath:b,workerBlobURL:c})=>{let t;if(Blob&&URL&&c){const v=new Blob([`importScripts("${b}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(v))}else t=new Worker(b);return t}},7694:f=>{f.exports=b=>{b.terminate()}},7156:f=>{function b(t,v,m,h,g,x,p){try{var l=t[x](p),y=l.value}catch(I){return void m(I)}l.done?v(y):Promise.resolve(y).then(h,g)}f.exports=function c(t){return function(){var v=this,m=arguments;return new Promise(function(h,g){var x=t.apply(v,m);function p(y){b(x,h,g,p,l,"next",y)}function l(y){b(x,h,g,p,l,"throw",y)}p(void 0)})}},f.exports.__esModule=!0,f.exports.default=f.exports},4547:f=>{"use strict";f.exports=JSON.parse('{"_from":"tesseract.js@2.0.0-beta.1","_id":"tesseract.js@2.0.0-beta.1","_inBundle":false,"_integrity":"sha512-PPELe7ArJycS1ZZomecL4+MG5SCin0uHxzRhLecxGxp00Ec6rEYx9p6LwzJjyORgUlDkocP6jgb/Rczqv3DTkQ==","_location":"/tesseract.js","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"tesseract.js@2.0.0-beta.1","name":"tesseract.js","escapedName":"tesseract.js","rawSpec":"2.0.0-beta.1","saveSpec":null,"fetchSpec":"2.0.0-beta.1"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/tesseract.js/-/tesseract.js-2.0.0-beta.1.tgz","_shasum":"6729350abe60895db5478c739b1863a39524d970","_spec":"tesseract.js@2.0.0-beta.1","_where":"D:\\\\Project\\\\angular\\\\angular-test\\\\jcalc","author":"","browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"bundleDependencies":false,"collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"},"contributors":[{"name":"jeromewu"}],"dependencies":{"axios":"^0.18.0","bmp-js":"^0.1.0","file-type":"^12.3.0","idb-keyval":"^3.2.0","is-url":"1.2.2","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^2.0.0-beta.13","zlibjs":"^0.3.1"},"deprecated":"Version contains major bugs and no longer supported. Upgrade to @latest. Guide for upgrading here: https://github.com/naptha/tesseract.js/issues/771","description":"Pure Javascript Multilingual OCR","devDependencies":{"@babel/core":"^7.4.5","@babel/preset-env":"^7.4.5","acorn":"^6.1.1","babel-loader":"^8.0.6","cors":"^2.8.5","eslint":"^5.9.0","eslint-config-airbnb":"^17.1.0","eslint-plugin-import":"^2.14.0","eslint-plugin-jsx-a11y":"^6.1.2","eslint-plugin-react":"^7.11.1","expect.js":"^0.3.1","express":"^4.16.4","mocha":"^5.2.0","mocha-headless-chrome":"^2.0.2","npm-run-all":"^4.1.5","nyc":"^13.1.0","rimraf":"^2.6.3","wait-on":"^3.2.0","webpack":"^4.26.0","webpack-cli":"^3.1.2","webpack-dev-middleware":"^3.4.0"},"homepage":"https://github.com/naptha/tesseract.js","jsdelivr":"dist/tesseract.min.js","license":"Apache-2.0","main":"src/index.js","name":"tesseract.js","repository":{"type":"git","url":"git+https://github.com/naptha/tesseract.js.git"},"scripts":{"build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","lint":"eslint src","postinstall":"opencollective-postinstall || true","prepublishOnly":"npm run build","start":"node scripts/server.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node:one -- ./tests/*.test.js","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js"},"types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","version":"2.0.0-beta.1"}')}}]);